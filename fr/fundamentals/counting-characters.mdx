---
title: Comptage des caractères lors de la rédaction de Tweets
sidebarTitle: Comptage des caractères
icon: text-size
---

Cette page explique comment les caractères sont pris en compte lors de la rédaction de Tweets et dans l’ensemble de l’API X. Pour plus d’informations sur l’implémentation, X met à disposition la bibliothèque open source [twitter-text](http://github.com/twitter/twitter-text), disponible sur [GitHub](https://github.com/twitter).

<div id="background">
  ## Contexte
</div>

X a commencé comme un service de messagerie SMS. Cela limitait la longueur d’un Tweet à 140 caractères (en partie en raison de la limite de 160 caractères des SMS, dont 20 réservés aux commandes et aux noms d’utilisateur). Au fil du temps, à mesure qu’X a évolué, la longueur maximale d’un Tweet est passée à 280 caractères — toujours courte et concise, mais permettant davantage d’expression.

<div id="definition-of-a-character">
  ## Définition d’un caractère
</div>

Dans la plupart des cas, le contenu textuel d’un Tweet peut contenir jusqu’à 280 caractères ou glyphes [Unicode](https://unicode.org/). Certains glyphes comptent pour plus d’un caractère.

Nous appelons poids le fait qu’un glyphe compte pour un ou plusieurs caractères. La définition exacte des caractères dont le poids est supérieur à un caractère se trouve dans le [fichier de configuration](https://github.com/twitter/twitter-text/tree/master/config) de la [bibliothèque d’analyse des Tweets twitter-text](https://github.com/twitter/twitter-text).

La version actuelle du fichier de configuration définit un poids par défaut de deux caractères et quatre plages de [points de code Unicode](https://unicode.org/charts/About.html) pondérées différemment. Actuellement, les points de code de ces plages sont tous comptés comme un seul caractère.

* La première plage couvre les caractères des pages de codes Latin-1 (U+0000 - U+10FF).
* La deuxième plage est la ponctuation générale jusqu’au caractère Zero Width Joiner inclus (utilisé pour combiner des émojis et d’autres glyphes) (U+2000-U+200D).
* La troisième plage est la ponctuation générale à l’exception de U+200E et U+200F, qui sont des marques directionnelles Unicode (U+2010-U+201F).
* La dernière plage couvre les guillemets (U+2032-U+2037).

Des exemples de texte de Tweet et de longueurs calculées par la bibliothèque twitter-text sont disponibles dans le fichier de configuration de test [validate.yml](https://github.com/twitter/twitter-text/blob/master/conformance/validate.yml) de la bibliothèque.

**Exemples**

| Caractère affiché | Longueur | Description | Séquence Unicode |
|:---------------------|:--------|:-------------|:------------------|
| a | 1 | Lettre minuscule latine a | U+0061 |
| á | 1 | Lettre minuscule latine a avec accent aigu | U+00E1 |
| ӑ | 1 | Lettre minuscule cyrillique a avec brève | U+04D1 |
| Ồ | 1 | Lettre majuscule latine o avec circonflexe et accent aigu | U+1ED2 |

<div id="emojis">
  ## Émojis
</div>

Les émojis pris en charge par [twemoji](https://twemoji.x.com/) comptent toujours pour deux caractères, quels que soient les modificateurs combinés. Cela inclut les émojis modifiés par les [teintes de peau Fitzpatrick](https://emojipedia.org/modifiers/) ou les [modificateurs de genre](https://blog.emojipedia.org/unicode-and-the-emoji-gender-gap/), même s’ils sont composés d’un nombre de points de code Unicode nettement plus élevé. Le poids des émojis est défini par une expression régulière dans twitter-text qui recherche des séquences d’émojis standard combinées avec un ou plusieurs « Zero Width Joiners » Unicode (U+200D).

**Exemples**

| Émoji affiché | Longueur | Description | Séquence Unicode |
|:-----------------|:--------|:-------------|:------------------|
| 👾 | 2 | Longueur par défaut d’un émoji connu | -- |
| 🙋🏽 | 2 | Émoji avec modificateur de teinte de peau | 🙋 U+1F64B, 🏽 U+1F3FD |
| 👨‍🎤 | 2 | Séquence d’émojis utilisant un glyphe de liaison (jonction sans chasse) | [👨 U+1F468](https://emojipedia.org/emoji/%F0%9F%91%A8/), [U+200D](https://emojipedia.org/emoji/%E2%80%8D/), [🎤 U+1F3A4](https://emojipedia.org/emoji/%F0%9F%8E%A4/) |
| 👨‍👩‍👧‍👦 | 2 | Séquence d’émojis utilisant plusieurs glyphes de liaison (jonctions sans chasse) | [👨 U+1F468](https://emojipedia.org/emoji/%F0%9F%91%A8/), [U+200D](https://emojipedia.org/emoji/%E2%80%8D/), [👩 U+1F469](https://emojipedia.org/emoji/%F0%9F%91%A9/), [U+200D](https://emojipedia.org/emoji/%E2%80%8D/), [👧 U+1F467](https://emojipedia.org/emoji/%F0%9F%91%A7/), [U+200D](https://emojipedia.org/emoji/%E2%80%8D/), [👦 U+1F466](https://emojipedia.org/emoji/%F0%9F%91%A6/) |

<div id="chinese-japanese-korean-glyphs">
  ## Glyphes chinois, japonais et coréens
</div>

Les glyphes utilisés dans les langues CJK (chinois, japonais, coréen) comptent également pour deux caractères. Par conséquent, un Tweet composé uniquement de texte CJK ne peut contenir qu’un maximum de 140 glyphes de ce type.

<div id="entity-objects">
  ## Objets d’entité
</div>

Les Tweets peuvent contenir des [objets d’entité](/fr/x-api/fundamentals/data-dictionary), dont certains influent sur la longueur d’un Tweet.

URL : [toutes les URL sont encapsulées dans des liens t.co](https://developer.x.com/content/developer-twitter/en/docs/basics/tco). Cela signifie que la longueur d’une URL est définie par le paramètre `transformedURLLength` dans le [fichier de configuration twitter-text](https://github.com/twitter/twitter-text/tree/master/config). La longueur actuelle d’une URL dans un Tweet est de 23 caractères, même si l’URL serait normalement plus courte.

Réponses : les @noms qui se remplissent automatiquement au début d’un Tweet de réponse ne sont pas comptés dans la limite de caractères. Les nouveaux Tweets non liés à une réponse qui commencent par une @mention sont comptabilisés, tout comme les @mentions ajoutées explicitement par l’utilisateur dans le corps du Tweet.

Médias : les médias joints à un Tweet, représentés par une URL pic.x.com s’ils sont publiés depuis un client officiel, comptent pour 0 caractère.

Pour en savoir plus sur les objets d’entité, consultez la [documentation développeur](/fr/x-api/fundamentals/data-dictionary).

<div id="x-character-encoding">
  ## Encodage des caractères X
</div>

Les endpoints de l’API X n’acceptent que du texte encodé en UTF-8. Tous les autres encodages doivent être convertis en UTF-8 avant d’envoyer le texte à l’API.

X calcule la longueur d’un Tweet en utilisant la forme de normalisation C (NFC) du texte.

Par exemple : le mot « café ». Il existe deux séquences d’octets qui se ressemblent visuellement et se lisent de la même manière, mais utilisent un nombre d’octets différent :

|     | | |
|:-----|:---|:---|
| café | 0x63 0x61 0x66 0xC3 0xA9 | Utilisation du caractère « é », le « caractère composé ». |
| café | 0x63 0x61 0x66 0x65 0xCC 0x81 | Utilisation d’un diacritique combinant, qui se superpose au « e » |

La forme de normalisation C privilégie l’utilisation d’un caractère entièrement combiné (0xC3 0xA9 dans l’exemple de « café ») plutôt que la version décomposée (0x65 0xCC 0x81).

X compte le nombre de points de code dans le texte, plutôt que les octets UTF-8. Le 0xC3 0xA9 de l’exemple « café » correspond à un point de code (U+00E9) encodé sur deux octets en UTF-8, tandis que 0x65 0xCC 0x81 correspond à deux points de code encodés sur trois octets.