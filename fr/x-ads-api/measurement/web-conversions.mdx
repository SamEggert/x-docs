---
title: Conversions sur le web
---

import { Button } from '/snippets/fr/button.mdx';

<div id="conversion-api-set-up">
  ## Configuration de l’API de conversion
</div>

### Conditions préalables 

<div id="ads-api-access-new-applications">
  #### **Accès à l’API Ads - Nouvelles demandes**
</div>

* La principale exigence pour la Conversion API est de disposer d’un [compte développeur](https://developer.x.com/en/portal/dashboard) et de l’[accès à l’API Ads](https://developer.x.com/en/docs/twitter-ads-api/getting-started). Le processus est décrit dans le guide [Démarrer avec l’API Ads](https://developer.x.com/en/docs/twitter-ads-api/getting-started). Veuillez noter ce qui suit :

**Étape 1 : Compte développeur**

* Lors de la demande d’un [compte développeur](https://developer.x.com/en/portal/dashboard), souscrivez à l’un de nos [forfaits](https://developer.x.com/en/portal/products/) pour une approbation instantanée.
* **Remarque** : Par bonne pratique, nous recommandons vivement d’utiliser le handle X officiel de votre entreprise pour créer un compte développeur et demander l’accès à l’API Ads. Si le compte développeur est associé à un handle de développeur, il n’existe aucun moyen de transférer ces identifiants, si nécessaire. Il est préférable de le rattacher à un compte d’entreprise pour une gestion continue et d’utiliser, au besoin, la fonctionnalité [Multi-user login](https://business.x.com/en/help/troubleshooting/multi-user-login-faq.html). Sinon, au minimum, le compte doit être configuré avec des paramètres non par défaut (image d’en-tête, avatar, biographie et URL de la bio) et utiliser l’authentification à deux facteurs.

**Étape 2 : Demande d’accès à l’API Ads**

* Assurez-vous de disposer du bon **ID d’app** pour votre demande d’accès à l’API Ads. L’ID de l’app se trouve dans le [Portail développeur](https://developer.x.com/en/portal/dashboard), sous Projects &amp; Apps. Exemple : 16489123
* Demandez l’accès à l’API Ads en contactant votre représentant X.

<div id="ads-api-access-existing-applications">
  #### **Accès à l’API Ads - Applications existantes**
</div>

* Si vous disposez déjà d’une application Ads API utilisée activement, vous pouvez utiliser cette application ainsi que les jetons d’accès existants avec la Conversion API.

<div id="access-tokens">
  #### **Jetons d’accès**
</div>

* Les jetons d’accès utilisateur pour le compte possédant l’application Ads API peuvent être générés et récupérés directement depuis le portail développeur. On parle de « jeton d’accès personnel » car il est destiné à être utilisé avec votre propre compte X. Des informations générales sur l’authentification et le portail développeur sont disponibles [ici](/fr/resources/fundamentals/authentication/overview).
* Les jetons d’accès utilisateur pour des comptes autres que celui qui possède l’application Ads API doivent être générés au moyen d’un flux OAuth à 3 volets (3-legged OAuth). Les options pour générer le jeton d’accès avec ce flux incluent :
  * [Ligne de commande avec autorisation Web via l’utilitaire twurl](https://github.com/twitter/twurl#getting-started)
  * [Ligne de commande avec autorisation basée sur un code PIN](https://developer.x.com/resources/fundamentals/authentication/pin-based-oauth)
  * [Flux web personnalisé implémentant le modèle OAuth à 3 volets](https://developer.x.com/resources/fundamentals/authentication/obtaining-user-access-tokens)
* Tout jeton utilisateur utilisé avec la Conversion API doit correspondre à des utilisateurs ayant un niveau d’accès AD_MANAGER ou ACCOUNT_ADMIN, ce qui peut être vérifié via le point de terminaison [authenticated_user_access](https://developer.x.com/en/docs/twitter-ads-api/campaign-management/api-reference/authenticated-user-access).
* **Remarque :** les jetons eux-mêmes (une fois créés comme ci-dessus) peuvent être partagés avec des utilisateurs n’ayant pas le niveau d’accès AD_MANAGER ou ACCOUNT_ADMIN pour les utiliser.

<div id="steps">
  ### **Étapes**
</div>

<div id="creating-the-conversion-api-event">
  ### Création de l’événement Conversion API
</div>

Pour utiliser la Conversion API, vous devez créer un nouvel événement de conversion dans Ads Manager ou utiliser un événement existant déjà créé et utilisé avec le X Pixel. Si vous souhaitez procéder à une déduplication entre les événements du Pixel et de la Conversion API, vous devez utiliser l’événement existant que vous avez créé pour le Pixel. 

<div id="option-1-using-an-existing-conversion-event-in-ads-manager">
  ##### Option 1 : Utiliser un événement de conversion existant dans Ads Manager
</div>

Si vous souhaitez utiliser un événement déjà utilisé avec le pixel X, c’est possible : vous devrez récupérer l’ID de cet événement. Si vous utilisez à la fois le pixel et la Conversion API pour le même événement, veillez à utiliser la clé de déduplication à la fois dans l’extrait de code du pixel et dans la requête de la Conversion API (en tant que `conversion_id`) afin de dédupliquer les événements entre le pixel et la Conversion API pour ce même événement. Voir la section d. Test des événements et déduplication pour plus d’informations. 

<div id="option-2-creating-a-new-conversion-event-in-ads-manager">
  ##### Option 2 : Créer un nouvel événement de conversion dans Ads Manager :
</div>

Il est important d’avoir une source d’événements créée dans Events Manager avant de créer un événement. Pour vérifier si une source d’événements (X Pixel) a été ajoutée à votre compte, allez dans Events Manager et vérifiez si X Pixel apparaît dans votre menu de gauche.

Si vous n’avez pas encore ajouté de source d’événements, suivez les étapes ci-dessous pour en créer une.

1. Allez sur ads.x.com
2. Accédez à la section **Tools** en haut à gauche et cliquez sur **Events Manager**
3. Sélectionnez Add event source en haut à droite pour **Add an event source** si vous n’avez pas encore de source d’événements X Pixel dans votre barre latérale gauche
   1. L’ID de la source d’événements X Pixel est votre **Pixel ID**

Vous avez maintenant une source d’événements et un Pixel ID. Vous devez créer un événement dans la source d’événements pour les conversions que vous souhaitez suivre :

1. Dans la source d’événements X Pixel, sélectionnez **Add events** sur le côté droit
2. Sélectionnez Install with **Conversion API**
3. Vous verrez le **Pixel ID** et l’**Event ID** de cet événement qui seront utilisés dans l’API
   1. L’ID de l’événement est votre Event ID
4. Cliquez sur Save et votre événement de conversion sera créé et prêt à l’emploi

### Préparation des identifiants pour les événements de conversion 

Nous avons actuellement besoin qu’au moins un identifiant soit transmis, tel qu’un identifiant de clic (`twclid`), une adresse e-mail ou un numéro de téléphone. Si vous utilisez l’adresse IP ou l’agent utilisateur, un deuxième identifiant doit être envoyé pour un appariement de conversion correct.

La transmission d’un plus grand nombre d’identifiants permettra d’obtenir un taux d’appariement de conversion plus élevé.

|     |     |     |
| :--- | :--- | :--- |
| Champ d’appariement client | Format | Hachage requis ? |
| ID de clic X | Généré par X ([en savoir plus](https://business.x.com/en/help/campaign-measurement-and-analytics/conversion-tracking-for-websites.html#faq)) | Non  |
| Adresse e-mail | Supprimer les espaces de début et de fin | Requis (SHA256) |
| Numéro de téléphone | [Norme E.164](https://en.wikipedia.org/wiki/E.164) | Requis (SHA256) |

|     |     |     |
| :--- | :--- | :--- |
| Adresse IP | Supprimer les espaces de début et de fin | Non  |
| Agent utilisateur | Supprimer les espaces de début et de fin | Non  |

#### 1. Préparer l’identifiant X Click ID 

Il est recommandé d’inclure systématiquement le Click ID dans la requête de conversion.

Le Click ID doit être extrait du paramètre de chaîne de requête twclid lorsqu’il est disponible après que l’utilisateur a accédé au site de destination. 

Exemple de code JavaScript simple :

```js
var queryString = document.location.search;
if (queryString.has('twclid') {
  twitterClickID = getParam(queryString, 'twclid');
  // Étapes suivantes recommandées : journalisation, insertion dans le stockage local
}
```

Il est recommandé de : 

1. Toujours extraire la valeur twclid lorsqu’elle est présente dans les paramètres de requête de l’URL.

2. Stocker ces données avec les champs de formulaire pertinents ou les informations de l’événement de conversion.

Associer le Click ID aux événements de conversion et aux informations de workflow permet des scénarios tels que le traitement par lots, des algorithmes d’analyse et de création d’événements de conversion à partir de parcours de navigation multiples, ainsi que des importations en masse.

L’URL de la source de l’événement doit être [encodée en pourcentage](https://en.wikipedia.org/wiki/Percent-encoding) et représente la page Web qui a déclenché l’événement.

#### 2. Préparer l’identifiant d’e-mail 

Les champs pris en charge pour l’appariement client peuvent être envoyés, mais doivent être normalisés et, lorsque nécessaire, hachés afin de protéger la confidentialité.

Les informations doivent être hachées avec SHA-256, sans sel. 

Par exemple, pour une adresse e-mail test@x.com, elle doit nous être envoyée au format haché : d360d510a224510f373931ce2d6215a799f5a9c1cef221b0149b6b6b50cced62.

#### 3. Préparer l’identifiant de téléphone 

Le numéro de téléphone doit être transmis au format [E.164](https://en.wikipedia.org/wiki/E.164) et les données doivent être hachées avec SHA‑256, sans sel. 

Par exemple, pour un numéro américain : +11234567890, il doit nous être envoyé sous forme hachée : 1fa6b8d986d9b9cd01bf36951815158bbde9f520c0567c835dfe34783d0a4231.

<div id="4-prepare-ip-address-identifier">
  #### 4. Préparer l’identifiant d’adresse IP
</div>

L’adresse IP doit être transmise conjointement avec un autre identifiant (twclid, adresse e-mail, numéro de téléphone ou agent utilisateur). Aucun hachage n’est requis pour cet identifiant.

Cette valeur s’écrit en notation décimale pointée, avec quatre nombres séparés par des points. Par exemple, l’adresse IP d’un utilisateur peut être 8.25.197.25.

<div id="5-prepare-user-agent-identifier">
  #### 5. Préparer l’identifiant User-Agent
</div>

Le User-Agent doit être transmis conjointement avec un autre identifiant (twclid, adresse e-mail, numéro de téléphone ou adresse IP). Aucun hachage n’est requis pour cet identifiant.

Cet identifiant permet au serveur de reconnaître l’application, le système d’exploitation, le fournisseur et/ou la version de l’agent utilisateur à l’origine de la requête. Par exemple, cette valeur peut être transmise sous la forme Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36.

<div id="constructing-the-conversion-event-request">
  ### Construire la requête d’événement de conversion
</div>

`POST: version/measurement/conversions/:pixel_id`

Envoyez des événements de conversion pour un compte publicitaire donné. Vérifiez le code de réponse pour confirmer la réussite (HTTP 200 OK). Il est recommandé de mettre en place un mécanisme de nouvelle tentative et une journalisation minimale au cas où des codes d’erreur seraient renvoyés.

Pour des informations détaillées sur l’URL de l’endpoint et les paramètres du corps de la requête POST, veuillez consulter la section [Référence de l’API](https://developer.x.com/en/docs/twitter-ads-api/measurement/api-reference/conversions). 

<div id="example-request-formatted-for-readability">
  ### Exemple de requête (mise en forme pour plus de lisibilité)
</div>

```json

    twurl -H 'ads-api.x.com' -X POST '/12/measurement/conversions/oka17' --data '
    {
      "conversions":[
         {
            "conversion_time":"2022-02-18T01:14:00.603Z",
            "event_id":"ol288",
            "identifiers":[
               {
                  "twclid":"23opevjt88psuo13lu8d020qkn"
               },
               {
                  "hashed_email":"d360d510a224510f373931ce2d6215a799f5a9c1cef221b0149b6b6b50cced62"
               },
               {
                  "hashed_phone_number":"1fa6b8d986d9b9cd01bf36951815158bbde9f520c0567c835dfe34783d0a4231"
               },
               {
                  "ip_address":"1.0.0.0",
                  "user_agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"
               }
            ],
            "value":"20.00",
            "number_items":3,
            "conversion_id":"23294827",
            "description":"Pet supply purchases",
            "contents":[
               {
                  "content_id":"1",
                  "content_name":"Blankets",
                  "content_type":"Pet supplies",
                  "content_price":100.99,
                  "num_items":1,
                  "content_group_id":"123"
               }
            ]
         }
      ]
    }' --header 'Content-Type: application/json'

```

<div id="example-response">
  ### Exemple de réponse
</div>

```json
{"request": {
 "params": {
     "account_id":"18ce552mlaq"}
 },
 "data": {
    "conversions_processed":1,
     "debug_id":"ff02e052-36e4-47d6-bdf0-6d8986446562"}
}
```

<div id="rate-limit">
  ### Limite de débit
</div>

La limite de débit est de 60 000 événements par compte, par intervalle de 15 minutes.

Notez que le code de votre serveur peut devoir implémenter une logique en dehors de cet appel de requête, notamment :

1. Instrumenter les actions des utilisateurs (journalisation) afin de pouvoir envoyer des données de conversion correctes pour chaque événement

2. Toute logique nécessaire pour filtrer les événements de conversion des utilisateurs ayant exercé des choix de confidentialité pertinents — par exemple, s’ils ont refusé le suivi ou la vente de leurs informations personnelles sur le site de l’annonceur

3. Intégration avec les déclencheurs d’événements et les pages afin de capturer les événements et d’envoyer les conversions

<div id="testing-events-and-deduplication">
  ### Test des événements et déduplication
</div>

<div id="testing-events">
  ### Test des événements
</div>

Lorsque votre événement a bien reçu des conversions, le statut de la « balise web d’événement unique » devrait afficher TRACKING sur la page Conversion Tracking de l’Ads Manager, dans un délai de 12 à 24 heures. L’envoi de conversions via la Conversion API n’aura aucun impact sur les campagnes en cours.

Vous pouvez également vérifier les résultats d’analyse de votre événement de conversion par ID de balise en :

* Exportant les données depuis l’Ads Manager (page d’aide [Analytics for Website Conversion Tracking](https://business.x.com/en/help/campaign-measurement-and-analytics/conversion-tracking-for-websites.html))

* Exportant les données via l’Ads API (segmentation_type=CONVERSION_TAGS) 

<div id="duplication-between-pixel-and-conversion-api">
  ### Déduplication entre Pixel et Conversion API
</div>

Si vous souhaitez dédupliquer les conversions entre les requêtes Pixel et Conversion API, nous utilisons conversion_id comme clé de déduplication. La déduplication s’effectue uniquement au niveau de l’événement. Autrement dit, pour dédupliquer entre les requêtes Pixel et CAPI, un annonceur doit utiliser le même événement dans les deux requêtes (Pixel et CAPI), en plus d’utiliser le même conversion_id. La déduplication ne peut s’appliquer qu’aux événements reçus dans une fenêtre de 48 h.

<div id="conversion-tracking-overview">
  ## Suivi des conversions (vue d’ensemble)
</div>

<div id="summary">
  ### Résumé
</div>

Le suivi des conversions vous permet de mesurer le nombre d’utilisateurs de X qui réalisent une action souhaitée après avoir vu et interagi avec vos publicités sur X. Il vous permet d’identifier quelles campagnes génèrent des actions telles que des visites de site, des inscriptions et des achats. Il offre aux annonceurs des capacités de mesure hors X pour comprendre la performance de leurs publicités à réponse directe et ainsi acquérir des clients de manière rentable.

À l’aide d’une balise de conversion, les annonceurs peuvent suivre les conversions des utilisateurs et les rattacher à des campagnes publicitaires sur X. Cela leur donne la visibilité nécessaire pour optimiser leurs campagnes afin d’atteindre leurs objectifs de coût par acquisition (CPA).

Il existe une variété d’actions sur site web qu’un annonceur peut mesurer avec le suivi des conversions. Il peut en sélectionner une ou plusieurs, selon l’action ou les actions qu’il souhaite générer avec sa campagne publicitaire :

* Visite du site : l’utilisateur visite une page d’atterrissage sur le site de l’annonceur
* Achat : l’utilisateur finalise l’achat d’un produit ou d’un service sur le site de l’annonceur
* Téléchargement : l’utilisateur télécharge un fichier, tel qu’un livre blanc ou un package logiciel, depuis le site de l’annonceur
* Inscription : l’utilisateur s’inscrit au service, à la newsletter ou aux communications par e‑mail de l’annonceur
* Personnalisée : catégorie fourre-tout pour une action personnalisée qui n’entre pas dans l’une des catégories ci-dessus

Le suivi des conversions de X offre aux annonceurs une vision complète de l’attribution des conversions. Comparée aux solutions de mesure tierces que des clients ont pu utiliser à la place de la fonctionnalité de suivi des conversions de X, telles que des URL de clic uniques associées à des balises de suivi tierces, la balise de conversion de X permet aux annonceurs de suivre les conversions attribuées à des interactions de milieu et de haut de funnel, telles que l’extension de Tweet, les Retweets, les favoris, les réponses et les abonnements, ainsi qu’aux impressions.

<div id="faq">
  ### FAQ
</div>

<AccordionGroup>
  <Accordion title="How does the conversion tracking tag work?">
    Tout d’abord, un annonceur crée une balise de conversion, c’est‑à‑dire un extrait de code fourni par X, et l’ajoute à son site web. La balise est alors prête à mesurer une conversion lorsqu’un utilisateur réalise l’action prévue.

    Les utilisateurs sont ensuite exposés à la publicité de l’annonceur sur le client X, ce qui les redirige vers le site web de l’annonceur et l’action balisée. Si l’utilisateur réalise cette action pendant la ou les fenêtres d’attribution définies par l’annonceur lors de la configuration de la balise, celle‑ci reconnaît que l’utilisateur a déjà interagi avec une publicité X. La balise se « déclenche » alors et envoie une notification aux serveurs de X afin que la conversion puisse être attribuée à la publicité à l’origine de celle‑ci.
  </Accordion>

  <Accordion title="Is there a way within the campaign setup process that allows the user to select which tracking pixels are relevant for that campaign?">
    Non, notre produit n’est pas conçu pour associer des balises de conversion spécifiques à des campagnes spécifiques. En revanche, une fois qu’une balise est configurée, le système identifie automatiquement quelle publicité a généré des conversions sur une balise donnée.
  </Accordion>

  <Accordion title="What are our default attribution window settings for conversion tags?">
    Fenêtre d’attribution post‑impression par défaut : 1 jour

    Fenêtre d’attribution post‑engagement par défaut : 14 jours

    Ces valeurs par défaut peuvent être modifiées lors de la configuration de la balise de conversion ou à tout moment après sa création. Les options de fenêtre d’attribution post‑engagement sont 1, 7, 14, 30, 60 et 90 jours. Les options de fenêtre d’attribution post‑impression sont aucune, 1, 7, 14, 30, 60 et 90 jours.
  </Accordion>

  <Accordion title="What are some ideas for effective DR creatives and strategies that will effectively drive conversions?">
    Bien que les objectifs, les contextes et les stratégies varient selon les clients, voici quelques idées qui ont fonctionné pour ceux ayant participé aux phases alpha ou bêta du suivi des conversions :

    **Création :**

    * **Offres** : Associez une remise, une promotion ou la livraison gratuite à un Tweet sponsorisé pour susciter davantage d’intérêt pour l’action
    * **Jeux‑concours** : Surtout pour les marques reconnues, les jeux‑concours ont généré des conversions
    * **Tests de messages** : Tester majuscules vs minuscules (FREE vs free ou NOW vs now)
    * **Dates limites** : Proposez une échéance pour encourager une action immédiate (Offre valable jusqu’au 12 décembre !)
    * **Photos percutantes** : Il peut être utile de tester si des visuels attractifs dans la création du Tweet favorisent les conversions ; les résultats peuvent varier selon l’offre du client.

    **Ciblage :**

    * Ciblage par @handle et par centres d’intérêt : Un fort alignement entre le texte du Tweet et les @handles de l’audience visée a généré des conversions
    * Utilisation de mots‑clés de niche mais à fort volume : Dans l’univers des concerts, utiliser des mots‑clés liés à l’artiste/musicien (p. ex. son nom) s’est avéré efficace
    * Audiences personnalisées : Les clients utilisant les audiences adaptées web (TA) avec le suivi des conversions ont obtenu des CPA inférieurs à ceux des groupes de contrôle utilisant d’autres ciblages

    Plus votre segmentation de campagne est granulaire, plus vos résultats de conversion seront exploitables. Par exemple, il est bien plus facile d’optimiser une campagne avec 4 mots‑clés qu’une campagne avec 50.
  </Accordion>
</AccordionGroup>

<div id="troubleshooting-and-support-for-conversion-api">
  ## Dépannage et assistance pour l’API de conversion
</div>

Pour toute question concernant les codes d’erreur après un appel à l’API, veuillez consulter la section ci-dessous. Pour toutes les autres questions, n’hésitez pas à contacter votre représentant Twitter ; nous nous efforcerons de les résoudre dans les plus brefs délais. 

<div id="error-handling-and-explanation">
  ### Gestion des erreurs et explication
</div>

Une requête n’est considérée comme réussie que si aucune erreur n’est détectée pour toutes les conversions qu’elle contient. S’il survient une erreur dans une conversion donnée, le point de terminaison renverra la liste de toutes les erreurs pertinentes.

<div id="x-ads-api-error-codes-overview">
  ### Aperçu des codes d’erreur de l’API X Ads
</div>

Voici une liste complète des codes d’erreur de l’API Ads :

[https://developer.x.com/en/docs/twitter-ads-api/response-codes](https://developer.x.com/en/docs/twitter-ads-api/response-codes)

Les réponses réussies de l’API Conversion sont indiquées par un code HTTP de la série 200 et un corps JSON contenant l’objet demandé.

<div id="when-there-is-a-500-series-http-code-its-related-to-a-server-issue-instead-of-your-request-or-account-set-up-please-check-the-x-api-status-page-or-the-developer-community-forum-in-case-others-are-having-similar-issues">
  #### **Lorsqu’un code HTTP de la série 500 survient**, cela est lié à un problème de serveur plutôt qu’à votre requête ou à la configuration de votre compte. Veuillez consulter la [page d’état de l’API X](https://api.twitterstat.us/) ou le [forum de la communauté des développeurs](https://devcommunity.x.com/) pour vérifier si d’autres rencontrent des problèmes similaires.
</div>

#### En cas de code HTTP de la série 400, les cas courants sont 

* 400 Bad Request (la requête ne respecte pas les normes)

* 401 Unauthorized (problèmes d’authentification)

* 403 Forbidden (problèmes d’accès à l’API liés à ce compte développeur)

* 404 Not Found (l’URL ou les paramètres ne correspondent peut-être pas à l’endpoint)

<div id="conversion-api-error-codes">
  ### Codes d’erreur de l’API de conversion
</div>

<div id="400-bad-request-scenarios">
  #### Scénarios 400 Bad Request
</div>

| **Raison** | **Type** | **Message d’erreur** |
| :--- | :--- | :--- |
| Identifiant manquant (actuellement e-mail haché ou X click ID - twclid) | 400 Bad Request | Au moins un identifiant utilisateur doit être fourni |
| E-mail haché invalide | 400 Bad Request | Hashed_email n’est pas un hachage SHA-256 valide |
| Le type de event_id n’est pas un tag d’événement unique (SET) | 400 Bad Request | Event_id (&lt;event_id&gt;) n’est pas un tag d’événement unique (SET) |
| Les événements de conversion demandés dépassent la limite (actuellement 500 événements par requête) | 400 Bad Request | La limite du nombre de conversions est de 500 |
| ID d’événement manquant | 400 Bad Request | L’ID d’événement est introuvable |

<div id="json-error-code-example">
  #### Exemple de code d’erreur JSON
</div>

<div id="request">
  ##### Requête :
</div>

`POST '/11/measurement/conversions/o6dkt'  --data '{"conversions":[{"conversion_time": "2022-06-16T01:14:00.603Z", "event_id":"o6dkt", "identifiers": [{"twclid": "23opevjt88psuo13lu8d020qkn"}]}]}' --header 'Content-Type: application/json`

<div id="error-message">
  #### Message d’erreur :
</div>

`{"errors":[{"code":"INVALID_PARAMETER","message":"event_id (o6dkt) n’est pas une balise d’événement unique (SET)","parameter":"event_id"}],"request":{"params":{"account_id":"18ce552mlaq"}}}`

<div id="request">
  #### Requête :
</div>

`twurl_ads -X POST '/11/measurement/conversions/o6dkt'  --data '{"conversions":[{"conversion_time": "2022-06-16T01:14:00.603Z", "event_id":"o6dl3", "identifiers": [{"twclid": ""}]}]}' --header 'Content-Type: application/json' `

<div id="error-message">
  #### Message d’erreur :
</div>

`{"errors":[{"code":"INVALID_PARAMETER","message":"Au moins un identifiant d’utilisateur doit être fourni","parameter":""}],"request":{"params":{"account_id":"18ce552mlaq"}}}`

<div id="request">
  #### Requête :
</div>

`twurl_ads -X POST '/11/measurement/conversions/o6dkt'  --data '{"conversions":[{"conversion_time": "2022-06-16T01:14:00.603Z", "event_id":"o6dl3", "identifiers": [{"hashed_email": "abc"}]}]}' --header 'Content-Type: application/json'`

<div id="error-message">
  #### Message d’erreur :
</div>

`{"errors":[{"code":"INVALID_PARAMETER","message":"hashed_email (abc) n’est pas un hachage SHA-256 valide","parameter":"hashed_email"}],"request":{"params":{"account_id":"18ce552mlaq"}}}`

<div id="request">
  #### Requête :
</div>

`twurl_ads -X POST '/11/measurement/conversions/o6dkt'  --data '{"conversions":[{"conversion_time": "2022-06-16T01:14:00.603", "event_id":"o6dl3", "identifiers": [{"twclid": "23opevjt88psuo13lu8d020qkn"}]}]}' --header 'Content-Type: application/json'`

<div id="error-message">
  #### Message d’erreur :
</div>

`{"errors":[{"code":"INVALID_PARAMETER","message":"Heure attendue au format yyyy-MM-ddTHH:mm:ss.SSSZ, mais reçu « 2022-06-16T01:14:00.603 » pour conversion_time","parameter":"conversion_time"}],"request":{"params":{"account_id":"18ce552mlaq"}}}`

<div id="401-unauthorized">
  ### 401 Non autorisé
</div>

**Raison** : Informations d’authentification manquantes ou incorrectes

**Solution** : Suivez les étapes d’authentification décrites dans la [documentation de configuration](https://developer.x.com/en/docs/twitter-ads-api/measurement/guides/conversion-api) en utilisant l’une des 3 méthodes d’authentification :

Les jetons d’accès utilisateur (User Access Tokens) pour des comptes autres que celui qui possède l’application Ads API doivent être générés via un flux OAuth à 3 étapes (3-legged OAuth). Les options pour générer un jeton d’accès via un OAuth à 3 étapes incluent :

* [Ligne de commande avec autorisation web via l’utilitaire twurl](https://github.com/twitter/twurl#getting-started)

* [Ligne de commande avec autorisation basée sur un code PIN](https://developer.x.com/resources/fundamentals/authentication/pin-based-oauth)

* [Flux web personnalisé implémentant le modèle OAuth à 3 étapes](https://developer.x.com/resources/fundamentals/authentication/obtaining-user-access-tokens)

Tout jeton utilisateur utilisé avec la Conversion API doit appartenir à des utilisateurs ayant le niveau d’accès AD_MANAGER ou ACCOUNT_ADMIN*, ce qui peut être vérifié via le point de terminaison [authenticated_user_access](https://developer.x.com/en/docs/twitter-ads-api/campaign-management/api-reference/authenticated-user-access).

### 403 Accès interdit 

| Raison | Type | Message d&#39;erreur |
| :--- | :--- | :--- |
| Le compte développeur que vous utilisez n’a pas accès à l’API Ads. [Demandez l’accès ici](https://developer.x.com/en/docs/twitter-ads-api/apply). | 403 Client non autorisé | L’application cliente avec l’ID &lt;&gt; qui effectue cette requête n’a pas accès à l’API X Ads. Assurez-vous que votre application dispose de l’accès advertiser-api. Utilisez « twurl accounts » et « twurl set default &lt;username&gt; &lt;key&gt; » pour changer l’application que vous utilisez. |

### 404 Introuvable 

| Raison | Type | Message d&#39;erreur |
| :--- | :--- | :--- |
| L&#39;URL de la requête ou les paramètres ne sont pas corrects pour le point de terminaison | 404 Route introuvable | La ressource demandée est introuvable |
| Vous n&#39;avez pas accès au compte propriétaire du pixel_id/balise de site Web universelle | 404 Introuvable | L&#39;utilisateur &lt;user_id&gt; n&#39;a pas accès au compte &lt;account_id&gt;. Tapez &#39;sn &lt;user_id&gt;&#39; pour obtenir le handle de l&#39;utilisateur. Utilisez &#39;twurl accounts&#39; et &#39;twurl set default \u003Cusername\u003E&#39; pour changer l&#39;utilisateur actif. |
| L&#39;ID d&#39;événement n&#39;appartient pas au compte fourni associé à l&#39;ID de pixel (ID UWT) | 404 Introuvable | event_id &lt;event_id&gt; n&#39;appartient pas au compte fourni |

<div id="json-error-code-example">
  ### Exemple de code d’erreur JSON
</div>

<div id="request">
  #### Requête :
</div>

`twurl_ads -X POST '/11/measurement/conversions/o8z6j'  --data '{"conversions":[{"conversion_time": "2022-06-16T01:14:00.603Z", "event_id":"abc", "identifiers": [{"twclid": "23opevjt88psuo13lu8d020qkn"}]}]}' --header 'Content-Type: application/json'`

**Message d’erreur :**

`{"errors":[{"code":"NOT_FOUND","message":"event_id (abc) does not belong to provided account","parameter":"event_id"},{"code":"INVALID_PARAMETER","message":"event_id (abc) is not a single event tag (SET)","parameter":"event_id"}],"request":{"params":{"account_id":"18ce55gze09"}}}`

<div id="api-reference-index">
  ## Index de référence de l’API
</div>

Pour consulter la référence complète de l’API, sélectionnez un point de terminaison dans la liste :

<div id="web-conversions">
  ### Conversions Web
</div>

|     |     |
| :--- | :--- |
| API de conversions | [measurement/conversions/:pixel_id](https://developer.x.com/en/docs/x-ads-api/measurement/web-conversions/api-reference/conversions) |
| Balise d’événement web | [accounts/:account_id/web_event_tags](https://developer.x.com/en/docs/x-ads-api/measurement/web-conversions/api-reference/web-event-tags) |

<div id="web-conversions">
  ### Conversions Web
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Exécuter dans Postman
</Button>

`POST version/measurement/conversions/:pixel_id`

Envoyez des événements de conversion de site web pour un seul ID de balise d’événement.

Le code de réponse doit être vérifié pour confirmer la réussite (HTTP 200 OK). Il est recommandé de mettre en place un mécanisme de nouvelle tentative et une journalisation basique au cas où des codes d’erreur seraient renvoyés.

La limite de débit est de 100 000 requêtes par intervalle de 15 minutes et par compte (chaque requête autorise 500 événements).

<div id="resource-url">
  ##### URL de ressource
</div>

`https://ads-api.x.com/12/measurement/conversions/:pixel_id`

<div id="request-url-parameters">
  ##### Paramètres d’URL de la requête
</div>

| Nom | Description |
| :--- | :--- |
| pixel_id  <br />*requis* | L’ID de balise de base d’un compte publicitaire. Il s’agit de la valeur encodée en base36 de l’ID de balise de base du compte publicitaire.<br /><br />Type : string<br /><br />Exemple : `o8z6j` |
| conversions  <br />*requis* | L’objet présent dans le corps POST de la requête API. Liste des événements de conversion. Jusqu’à 500 événements de conversion peuvent être fournis. Voir le tableau ci-dessous pour les champs pris en charge.<br /><br />Type : array<br /><br />Exemple : `"conversions":[{"conversion_time": "2022-02-18T01:14:00.603Z", "event_id":"o87ne", "identifiers": [{"twclid": "23opevjt88psuo13lu8d020qkn"}], "conversion_id": "23294827"}]` |

<div id="conversions-object">
  ###### objet conversions
</div>

| Nom | Description |
| :--- | :--- |
| conversion_time  <br />*obligatoire* | L’heure, exprimée au format [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).<br /><br />Type : string<br /><br />Exemple : `2017-10-05T00:00:00Z` |
| event_id  <br />*obligatoire* | L’ID en base 36 d’un événement spécifique. Il correspond à un événement préconfiguré présent dans ce compte publicitaire. Cet identifiant est appelé ID dans l’événement correspondant d’Events Manager.<br /><br />Type : string<br /><br />Exemple : `o87ne` ou `tw-o8z6j-o87ne` (`tw-pixel_id-event-id`), tous deux acceptés |
| identifiers  <br />*obligatoire* | Une liste d’objets identifiants permettant de faire correspondre l’événement de conversion. Les champs pris en charge sont listés dans un tableau ci-dessous. Au moins un objet identifiant est requis.<br /><br />Si vous utilisez l’adresse IP ou l’agent utilisateur, un second identifiant doit être envoyé pour un appariement correct de la conversion.<br /><br />Type : array<br /><br />Exemple : `"identifiers": [{"twclid": "23opevjt88psuo13lu8d020qkn"},{"hashed_email": "e586883b2b4faf78d48300a79e0e15138d664cdf796ffb86e533170a9893eda8"}]` |
| number_items  <br />*optionnel* | Le nombre d’articles achetés lors de l’événement. Doit être un nombre positif supérieur à zéro.<br /><br />Type : integer<br /><br />Exemple : `4` |
| price_currency  <br />*optionnel* | La devise des articles achetés lors de l’événement, exprimée selon la norme [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217). Voir [Currency](https://developer.x.com/en/docs/twitter-ads-api/currency) pour plus d’informations.<br /><br />Type : string<br /><br />Par défaut : `USD`<br /><br />Exemple : `JPY` |
| value  <br />*optionnel* | La valeur des articles achetés lors de l’événement, exprimée dans la devise `price_currency`.<br /><br />Type : double<br /><br />Exemple : `100.00` |
| conversion_id  <br />*optionnel* | Pour la déduplication entre les conversions Pixel Web et Conversion API. Identifiant d’un événement de conversion pouvant être utilisé pour la déduplication entre les conversions Web Pixel et Conversion API dans la *même balise d’événement*. Voir la section Testing Events and Deduplication du [Conversions Guide](https://developer.x.com/en/docs/twitter-ads-api/measurement/guides/conversion-api) pour plus d’informations.<br /><br />Type : string<br /><br />Exemple : `23294827` |
| description  <br />*optionnel* | Description contenant toute information supplémentaire sur les conversions.<br /><br />Type : string<br /><br />Exemple : `test conversion` |
| contents  <br />*optionnel* | Liste de détails relatifs à un produit/contenu spécifique pour fournir des informations granulaires. Voir le tableau ci-dessous pour les champs pris en charge.<br /><br />Type : array<br /><br />Exemple : `contents": [{"content_id": "1", "content_name": "Blankets", "content_type": "home improvement", "content_price": 100.99, "num_items": 1, "content_group_id": "123"}, {"content_id": "2"}]` |

<div id="identifiers-object">
  ###### objet identifiers
</div>

| Nom | Description |
| :--- | :--- |
| ********twclid********  <br />*parfois requis* | ID de clic tel qu’extrait de l’URL de redirection. Requis si aucun autre identifiant n’est fourni.<br /><br />Type : string<br /><br />Exemple : `26l6412g5p4iyj65a2oic2ayg2` |
| ********hashed_email********  <br />*parfois requis* | Adresse e-mail hachée avec [SHA256](https://en.wikipedia.org/wiki/SHA-2). Le texte doit être en minuscules et les espaces de début/fin supprimés avant le hachage. Requis si aucun autre identifiant n’est fourni.<br /><br />Type : string<br /><br />Exemple : pour `test-email@test.com` = `e586883b2b4faf78d48300a79e0e15138d664cdf796ffb86e533170a9893eda8` |
| ********hashed_phone_number********  <br />*parfois requis* | Numéro de téléphone au format [E164](https://en.wikipedia.org/wiki/E.164) et haché avec [SHA256](https://en.wikipedia.org/wiki/SHA-2). Le numéro doit être au format E164 avant le hachage. Requis si aucun autre identifiant n’est fourni.<br /><br />Type : string<br /><br />Exemple : pour `+11234567890` = `1fa6b8d986d9b9cd01bf36951815158bbde9f520c0567c835dfe34783d0a4231` |
| **ip_address**  <br />*parfois requis* | Valeur écrite en notation décimale à points, avec quatre nombres séparés par des points.<br /><br />L’adresse IP doit être transmise conjointement avec un autre identifiant (twclid, adresse e-mail, numéro de téléphone ou user agent).<br /><br />Type : string<br /><br />Exemple : 8.25.197.25 |
| **user_agent **  <br />*parfois requis* | Cet identifiant permet au serveur d’identifier l’application, le système d’exploitation, le fournisseur et/ou la version de l’agent utilisateur de la requête.<br /><br />Le user agent doit être transmis conjointement avec un autre identifiant (twclid, adresse e-mail, numéro de téléphone ou adresse IP).<br /><br />Type : string<br /><br />Exemple : Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36. |

<div id="contents-object">
  ###### objet contents
</div>

| Name | Description |
| :--- | :--- |
| content_id  <br />*optional* | SKU ou GTIN ; identifiant représentant le contenu.<br /><br />Type : string<br /><br />Exemple : `jhp` |
| content_group_id  <br />*optional* | ID associé à un groupe de variantes de produit<br /><br />Type : integer<br /><br />Exemple : `group 1` |
| content_name  <br />*optional* | Nom du produit ou du service.<br /><br />Type : string<br /><br />Exemple : `radio flyer` |
| content_price  <br />*optional* | Prix du produit ou du service.<br /><br />Type : double<br /><br />Exemple : `5.00` |
| content_type  <br />*optional* | Catégorie du produit acheté.<br /><br />Type : string<br /><br />Exemple : `clothes` |
| num_items  <br />*optional* | Nombre de produits achetés<br /><br />Type : integer<br /><br />Exemple : `1` |

<div id="response-parameters">
  ##### Paramètres de réponse
</div>

| Nom | Description |
| :--- | :--- |
| conversions_processed | Nombre de conversions traitées avec succès<br /><br />Type : entier<br /><br />Exemple : `1` |
| debug_id | UUID de débogage pouvant être utilisé pour des investigations ultérieures<br /><br />Type : chaîne<br /><br />Exemple : `ff02e052-36e4-47d6-bdf0-6d8986446562` |

<div id="example-request">
  ##### Exemple de requête
</div>

```json
    twurl -H 'ads-api.x.com' -X POST '/12/measurement/conversions/oka17' --data '
    {
      "conversions":[
         {
            "conversion_time":"2022-02-18T01:14:00.603Z",
            "event_id":"ol288",
            "identifiers":[
               {
                  "twclid":"23opevjt88psuo13lu8d020qkn"
               },
               {
                  "hashed_email":"d360d510a224510f373931ce2d6215a799f5a9c1cef221b0149b6b6b50cced62"
               },
               {
                  "hashed_phone_number":"1fa6b8d986d9b9cd01bf36951815158bbde9f520c0567c835dfe34783d0a4231"
               },
               {
                  "ip_address":"1.0.0.0",
                  "user_agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"
               }
            ],
            "value":"20.00",
            "number_items":3,
            "conversion_id":"23294827",
            "description":"Achats d’articles pour animaux",
            "contents":[
               {
                  "content_id":"1",
                  "content_name":"Couvertures",
                  "content_type":"Articles pour animaux",
                  "content_price":100.99,
                  "num_items":1,
                  "content_group_id":"123"
               }
            ]
         }
      ]
    }' --header 'Content-Type: application/json'
```

<div id="example-request">
  ##### Exemple de requête
</div>

```json
    {
       "request":{
          "params":{
             "account_id":"18ce552mlaq"
          }
       },
       "data":{
          "conversions_processed":1,
          "debug_id":"ff02e052-36e4-47d6-bdf0-6d8986446562"
       }
    }
```

<div id="web-event-tags">
  ### Balises d’événement web
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Exécuter dans Postman
</Button>

`GET accounts/:account_id/web_event_tags`

Récupère les détails de certaines ou de l’ensemble des balises d’événement web associées au compte en cours.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/web_event_tags`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account_id  <br />*requis* | Identifiant du compte utilisé. Figure dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API Advertiser, à l’exception de [GET accounts](/fr/x-ads-api/campaign-management#accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.<br /><br />Type : string<br /><br />Exemple : `18ce54d4x5t` |
| count  <br />*optionnel* | Indique le nombre d’enregistrements à tenter de récupérer par requête distincte.<br /><br />Type : int<br /><br />Valeur par défaut : `200`  <br />Min, Max : `1`, `1000` |
| cursor  <br />*optionnel* | Indique un curseur pour obtenir la page de résultats suivante. Voir [Pagination](/fr/x-ads-api/introduction) pour plus d’informations.<br /><br />Type : string<br /><br />Exemple : `8x7v00oow` |
| sort_by  <br />*optionnel* | Trie selon un attribut pris en charge, par ordre croissant ou décroissant. Voir [Tri](/fr/x-ads-api/fundamentals/sorting) pour plus d’informations.<br /><br />Type : string<br /><br />Exemple : `created_at-asc` |
| web_event_tag_ids  <br />*optionnel* | Limite la réponse aux balises d’événement web souhaitées en indiquant une liste d’identifiants séparés par des virgules. Jusqu’à 200 ID peuvent être fournis.<br /><br />Type : string<br /><br />Exemple : `o3bk1` |
| with_deleted  <br />*optionnel* | Inclure les résultats supprimés dans la réponse.<br /><br />Type : boolean<br /><br />Valeur par défaut : `false`  <br />Valeurs possibles : `true`, `false` |
| with_total_count  <br />*optionnel* | Inclure l’attribut de réponse `total_count`.<br /><br />**Remarque** : Ce paramètre et `cursor` sont mutuellement exclusifs.<br /><br />**Remarque** : Les requêtes incluant `total_count` sont soumises à des limites de débit plus strictes, actuellement fixées à 200 par tranche de 15 minutes.<br /><br />Type : boolean<br /><br />Valeur par défaut : `false`  <br />Valeurs possibles : `true`, `false` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/web_event_tags?web_event_tag_ids=o3bk1`

<div id="example-response">
  #### Exemple de réponse
</div>

```json
    {
      "request": {
        "params": {
          "web_event_tag_ids": [
            "o3bk1"
          ],
          "account_id": "18ce54d4x5t"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "name": "balise d'événement web",
          "view_through_window": 7,
          "click_window": 7,
          "embed_code": "<script src=\"//platform.x.com/oct.js\" type=\"text/javascript\"></script><script type=\"text/javascript\">twttr.conversion.trackPid('ny3od',  { tw_sale_amount: 0, tw_order_quantity: 0 });</script><noscript><img height=\"1\" width=\"1\" style=\"display:none;\" alt=\"\"  src=\"https://analytics.x.com/i/adsct?txn_id=ny3od&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0\" /><img height=\"1\" width=\"1\" style=\"display:none;\" alt=\"\"  src=\"//t.co/i/adsct?txn_id=ny3od&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0\" /></noscript>",
          "id": "o3bk1",
          "retargeting_enabled": false,
          "last_tracked_at": "2021-05-22T17:00:04Z",
          "status": "TRACKING",
          "type": "DOWNLOAD",
          "website_tag_id": "ny3od",
          "deleted": false
        }
      ]
    }
```

<div id="get-accountsaccount_idweb_event_tagsweb_event_tag_id">
  #### GET accounts/:account_id/web_event_tags/:web_event_tag_id
</div>

Récupère une balise d’événement web spécifique associée au compte en cours.

<div id="resource-url">
  ##### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/web_event_tags/:web_event_tag_id`

<div id="parameters">
  ##### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account_id  <br />*requis* | L’identifiant du compte exploité. Il apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API Ads, à l’exception de [GET accounts](/fr/x-ads-api/campaign-management#accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.<br /><br />Type : string<br /><br />Exemple : `18ce54d4x5t` |
| web_event_tag_id  <br />*requis* | Référence de la balise d’événement web utilisée dans la requête.<br /><br />Type : string<br /><br />Exemple : `o3bk1` |
| with_deleted  <br />*optionnel* | Inclure les résultats supprimés dans la réponse.<br /><br />Type : boolean<br /><br />Valeur par défaut : `false`  <br />Valeurs possibles : `true`, `false` |

<div id="example-request">
  ##### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/web_event_tags/o3bk1`

<div id="example-response">
  ##### Exemple de réponse
</div>

```json
    {
      "request": {
        "params": {
          "web_event_tag_id": "o3bk1",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "name": "balise d’événement web",
        "view_through_window": 7,
        "click_window": 7,
        "embed_code": "<script src=\"//platform.x.com/oct.js\" type=\"text/javascript\"></script><script type=\"text/javascript\">twttr.conversion.trackPid('ny3od',  { tw_sale_amount: 0, tw_order_quantity: 0 });</script><noscript><img height=\"1\" width=\"1\" style=\"display:none;\" alt=\"\"  src=\"https://analytics.x.com/i/adsct?txn_id=ny3od&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0\" /><img height=\"1\" width=\"1\" style=\"display:none;\" alt=\"\"  src=\"//t.co/i/adsct?txn_id=ny3od&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0\" /></noscript>",
        "id": "o3bk1",
        "retargeting_enabled": false,
        "last_tracked_at": "2021-05-22T17:00:04Z",
        "status": "TRACKING",
        "type": "DOWNLOAD",
        "website_tag_id": "ny3od",
        "deleted": false
      }
    }
```

<div id="post-accountsaccount_idweb_event_tags">
  #### POST accounts/:account_id/web_event_tags
</div>

Créer une nouvelle balise d’événement web associée au compte en cours.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/web_event_tags`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account_id  <br />*required* | L’identifiant du compte utilisé. Figure dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API Advertiser, à l’exception de [GET accounts](/fr/x-ads-api/campaign-management#accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.<br /><br />Type : string<br /><br />Exemple : `18ce54d4x5t` |
| click_window  <br />*required* | La fenêtre d’attribution au clic pour cette balise Web.<br /><br />**Remarque** : seules les valeurs possibles listées ci-dessous sont acceptées.<br /><br />Type : int<br /><br />Valeurs possibles : `1`, `7`, `14`, `30` |
| name  <br />*required* | Le nom de la balise Web.<br /><br />Type : string<br /><br />Exemple : `Sample single conversion event` |
| retargeting_enabled  <br />*required* | Indique si le reciblage doit être activé pour cette balise Web.<br /><br />Type : boolean<br /><br />Valeurs possibles : `true`, `false` |
| type  <br />*required* | Le type de balise Web.<br /><br />Type : enum<br /><br />Valeurs possibles : `ADDED_PAYMENT_INFO`, `ADD_TO_CART`, `ADD_TO_WISHLIST`, `CHECKOUT_INITIATED`, `CONTENT_VIEW`, `CUSTOM`, `DOWNLOAD`, `PRODUCT_CUSTOMIZATION`, `PURCHASE`, `SEARCH`, `SIGN_UP`, `SITE_VISIT`, `START_TRIAL`, `SUBSCRIBE`<br /><br />(Dans l’interface, `SITE_VISIT` apparaît comme “Page view” et `SIGN_UP` comme “Lead”.) |
| view_through_window  <br />*required* | La fenêtre d’attribution post‑impression (view-through) pour cette balise Web. Cette valeur doit toujours être inférieure ou égale à la valeur de `click_window`.<br /><br />**Remarque** : seules les valeurs possibles listées ci-dessous sont acceptées.<br /><br />Type : int<br /><br />Valeurs possibles : `0`, `1`, `7`, `14`, `30` |

<div id="example-request">
  ##### Exemple de requête
</div>

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/web_event_tags?click_window=7&name=web event tag&retargeting_enabled=false&type=SITE_VISIT&view_through_window=7`

<div id="example-response">
  #### Exemple de réponse
</div>

```json
    {
      "data": {
        "name": "balise d'événement Web",
        "view_through_window": 7,
        "click_window": 7,
        "embed_code": "<script src='"//platform.x.com/oct.js"' type='"text/javascript"'></script><script type='"text/javascript"'>twttr.conversion.trackPid('ny3od',  { tw_sale_amount: 0, tw_order_quantity: 0 });</script><noscript><img alt='""' height='"1"' src='"https://analytics.x.com/i/adsct?txn_id=ny3od&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"' style='"display:none;"' width='"1"'/><img alt='""' height='"1"' src='"//t.co/i/adsct?txn_id=ny3od&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"' style='"display:none;"' width='"1"'/></noscript>",
        "id": "o3bk1",
        "retargeting_enabled": false,
        "last_tracked_at": null,
        "status": "UNVERIFIED",
        "type": "SITE_VISIT",
        "website_tag_id": "ny3od",
        "deleted": false
      },
      "request": {
        "params": {
          "name": "balise d'événement Web",
          "view_through_window": 7,
          "click_window": 7,
          "retargeting_enabled": false,
          "account_id": "18ce54d4x5t",
          "type": "SITE_VISIT"
        }
      }
    }
```

<div id="put-accountsaccount_idweb_event_tagsweb_event_tag_id">
  #### PUT accounts/:account_id/web_event_tags/:web_event_tag_id
</div>

Met à jour une balise d’événement web associée au compte en cours.

<div id="resource-url">
  ##### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/web_event_tags/:web_event_tag_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account_id  <br />*obligatoire* | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API Advertiser, à l’exception de [GET accounts](/fr/x-ads-api/campaign-management#accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.<br /><br />Type : string<br /><br />Exemple : `18ce54d4x5t` |
| web_event_tag_id  <br />*obligatoire* | L’identifiant d’une balise Web sur le compte actuel.<br /><br />Type : string<br /><br />Exemple : `o3bk1` |
| click_window  <br />*optionnel* | La fenêtre d’attribution au clic pour cette balise Web.<br /><br />**Remarque** : Seules les valeurs possibles listées ci-dessous sont acceptées.<br /><br />Type : int<br /><br />Valeurs possibles : `1`, `7`, `14`, `30` |
| name  <br />*optionnel* | Le nom de la balise Web.<br /><br />Type : string<br /><br />Exemple : `Sample single conversion event` |
| retargeting_enabled  <br />*optionnel* | Indique si le reciblage doit être activé pour cette balise Web.<br /><br />Type : boolean<br /><br />Valeurs possibles : `true`, `false` |
| type  <br />*optionnel* | Le type de balise Web.<br /><br />Type : enum<br /><br />Valeurs possibles : `ADDED_PAYMENT_INFO`, `ADD_TO_CART`, `ADD_TO_WISHLIST`, `CHECKOUT_INITIATED`, `CONTENT_VIEW`, `CUSTOM`, `DOWNLOAD`, `PRODUCT_CUSTOMIZATION`,`PURCHASE`, `SEARCH`, `SIGN_UP`, `SITE_VISIT`, `START_TRIAL`, `SUBSCRIBE`<br /><br />(Dans l’interface, `SITE_VISIT` est affiché comme “Page view” et `SIGN_UP` comme “Lead”.) |
| view_through_window  <br />*optionnel* | La fenêtre d’attribution post‑impression pour cette balise Web. Cette valeur doit toujours être inférieure ou égale à la valeur de `click_window`.<br /><br />**Remarque** : Seules les valeurs possibles listées ci-dessous sont acceptées.<br /><br />Type : int<br /><br />Valeurs possibles : `0`, `1`, `7`, `14`, `30` |

<div id="example-request">
  #### Exemple de requête
</div>

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/web_event_tags/o3bk1?type=DOWNLOAD`

<div id="example-response">
  #### Exemple de réponse
</div>

```json
    {
      "data": {
        "name": "balise d’événement web",
        "view_through_window": 7,
        "click_window": 7,
        "embed_code": "<script src='"//platform.x.com/oct.js"' type='"text/javascript"'></script><script type='"text/javascript"'>twttr.conversion.trackPid('ny3od',  { tw_sale_amount: 0, tw_order_quantity: 0 });</script><noscript><img alt='""' height='"1"' src='"https://analytics.x.com/i/adsct?txn_id=ny3od&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"' style='"display:none;"' width='"1"'/><img alt='""' height='"1"' src='"//t.co/i/adsct?txn_id=ny3od&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"' style='"display:none;"' width='"1"'/></noscript>",
        "id": "o3bk1",
        "retargeting_enabled": false,
        "last_tracked_at": "2021-05-22T17:00:04Z",
        "status": "UNVERIFIED",
        "type": "DOWNLOAD",
        "website_tag_id": "ny3od",
        "deleted": false
      },
      "request": {
        "params": {
          "web_event_tag_id": "o3bk1",
          "type": "DOWNLOAD",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="delete-accountsaccount_idweb_event_tagsweb_event_tag_id">
  #### DELETE accounts/:account_id/web_event_tags/:web_event_tag_id
</div>

Supprime une balise d’événement web spécifique associée au compte actuel.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/web_event_tags/:web_event_tag_id`

<div id="parameters">
  ##### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account_id  <br />*obligatoire* | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et constitue généralement un paramètre obligatoire pour toutes les requêtes de l’API Ads, à l’exception de [GET accounts](/fr/x-ads-api/campaign-management#accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.<br /><br />Type : string<br /><br />Exemple : `18ce54d4x5t` |
| web_event_tag_id  <br />*obligatoire* | L’identifiant d’une balise Web sur le compte actuel.<br /><br />Type : string<br /><br />Exemple : `o3bk1` |

<div id="example-request">
  ##### Exemple de requête
</div>

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/web_event_tags/o3bk1`

<div id="example-response">
  ##### Exemple de réponse
</div>

```json
    {
      "data": {
        "name": "balise d’événement web",
        "view_through_window": 7,
        "click_window": 7,
        "embed_code": "<script src='"//platform.x.com/oct.js"' type='"text/javascript"'></script><script type='"text/javascript"'>twttr.conversion.trackPid('ny3od',  { tw_sale_amount: 0, tw_order_quantity: 0 });</script><noscript><img alt='""' height='"1"' src='"https://analytics.x.com/i/adsct?txn_id=ny3od&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"' style='"display:none;"' width='"1"'/><img alt='""' height='"1"' src='"//t.co/i/adsct?txn_id=ny3od&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"' style='"display:none;"' width='"1"'/></noscript>",
        "id": "o3bk1",
        "retargeting_enabled": false,
        "last_tracked_at": "2021-05-22T17:00:04Z",
        "status": "UNVERIFIED",
        "type": "DOWNLOAD",
        "website_tag_id": "ny3od",
        "deleted": true
      },
      "request": {
        "params": {
          "web_event_tag_id": "o3bk1",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```