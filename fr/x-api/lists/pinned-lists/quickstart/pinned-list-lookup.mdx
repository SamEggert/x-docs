---
title: Recherche de listes épinglées
sidebarTitle: Recherche de listes épinglées
---

import { Button } from '/snippets/fr/button.mdx';

<Note>
  **Remarque :** Ce guide suppose que vous avez satisfait aux prérequis indiqués dans la [présentation du démarrage rapide](/fr/x-api/lists/pinned-lists#getting-started-with-the-pinned-list-endpoint-group).
</Note>

<div id="steps-to-build-a-pinned-list-lookup-request">
  ### Étapes pour créer une requête de recherche de liste épinglée
</div>

**Première étape : choisir la collection d’endpoints List dans Postman**

Une fois la collection X API v2 chargée dans Postman, accédez au dossier « List », sélectionnez le dossier « Pinned Lists », puis choisissez « User’s pinned Lists ».
 

**Deuxième étape : identifier et spécifier l’utilisateur**

Pour récupérer la liste épinglée d’un utilisateur, vous devez spécifier son ID utilisateur dans la requête. L’ID doit correspondre à celui de l’utilisateur authentifié, ce qui signifie que vous devez transmettre les jetons d’accès (Access Tokens) associés à cet ID lors de l’authentification de votre requête. Dans cet exemple, vous pouvez indiquer l’ID de votre propre compte. Vous pouvez trouver votre ID de deux manières :

1. En utilisant l’endpoint [users lookup](/fr/x-api/users/lookup/introduction) par nom d’utilisateur, vous pouvez transmettre un nom d’utilisateur et recevoir le champ id.
2. En consultant votre jeton d’accès, vous constaterez que la partie numérique correspond à votre ID utilisateur.

Dans Postman, accédez à l’onglet « Params » et saisissez cet ID utilisateur dans la colonne « Value » du paramètre `id`.

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | 2244994945 (user ID) |

**Troisième étape : identifier et spécifier les champs à récupérer**

Si vous cliquez sur le bouton « Send » après l’étape trois, vous recevrez, dans la réponse, les champs par défaut de l’[objet List](/fr/x-api/fundamentals/data-dictionary#list) : `id` et `name`.

Si vous souhaitez obtenir d’autres champs en plus de `id` et `name`, vous devez les spécifier dans votre requête au moyen des paramètres [`field`](/fr/x-api/fundamentals/fields) et/ou [`expansion`](/fr/x-api/fundamentals/expansions).

Pour cet exercice, nous allons demander trois ensembles supplémentaires de champs issus d’objets différents :

* Le champ supplémentaire `follower_count` dans l’objet List principal.
* L’[objet user](/fr/x-api/fundamentals/data-dictionary#user) complet à l’aide du paramètre d’expansion.
* Le champ supplémentaire `tweet.created_at` dans l’objet user associé.

Dans Postman, accédez à l’onglet « Params » et ajoutez la paire clé/valeur suivante au tableau « Query Params » :

|     |     |     |
| :--- | :--- | :--- |
| Key | Value | Returned fields |
| list.fields | follower_count | `follower_count` |
| expansions | owner_id | `includes.users.id,  <br/>includes.users.name,  <br/>includes.users.username` |
| user.fields | created_at | `includes.users.created_at` |

Vous devriez maintenant voir une URL similaire à côté du bouton « Send » :

`https://api.x.com/2/users/2244994945/pinned_lists?expansions=owner_id&list.fields=follower_count&user.fields=created_at`

**Quatrième étape : envoyer la requête et examiner la réponse**

Une fois tout configuré, cliquez sur le bouton « Send » ; vous recevrez une réponse similaire à l’exemple suivant :

```
{
  "data": [
    {
      "follower_count": 0,
      "id": "1454155907651158017",
      "name": "test list",
      "owner_id": "2244994945"
    }
  ],
  "includes": {
    "users": [
      {
        "username": "TwitterDev",
        "id": "2244994945",
        "created_at": "2013-12-14T04:35:55.000Z",
        "name": "Twitter Dev"
      }
    ]
  },
  "meta": {
    "result_count": 1
  }
}
```