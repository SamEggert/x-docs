---
title: Démarrage rapide
sidebarTitle: Démarrage rapide
---

import { Button } from '/snippets/fr/button.mdx';

<div id="getting-started-with-the-list-posts-lookup-endpoint">
  ## Bien démarrer avec l’endpoint de recherche des publications de Liste
</div>

Ce guide de démarrage rapide vous aidera à effectuer votre première requête vers l’endpoint de recherche des publications de Liste avec Postman.

Veuillez consulter notre dépôt GitHub [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) si vous souhaitez voir des exemples de code dans différentes langues.

<Note>
  ### Prérequis

  Pour suivre ce guide, vous devrez disposer d’un ensemble de [keys and tokens](/fr/resources/fundamentals/authentication) pour authentifier votre requête. Vous pouvez générer ces clés et jetons en suivant ces étapes :

  * [Sign up for a developer account](https://developer.x.com/en/apply-for-access) et recevoir l’approbation.
  * Créez un [Project](/fr/resources/fundamentals/projects) et une [developer App](/fr/resources/fundamentals/developer-apps) associée dans le portail développeur.
  * Accédez à la page « Keys and tokens » de votre App pour générer les informations d’identification requises. Assurez-vous d’enregistrer toutes les informations d’identification dans un emplacement sécurisé.
</Note>

<div id="steps-to-build-a-list-posts-lookup-request">
  ### Étapes pour construire une requête de consultation des publications d’une Liste
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### Première étape : commencez avec un outil ou une bibliothèque
</div>

Il existe plusieurs outils, exemples de code et bibliothèques que vous pouvez utiliser pour envoyer une requête à cet endpoint, mais nous allons utiliser l’outil Postman ici pour simplifier le processus.

Pour importer la collection Postman de X API v2 dans votre environnement, cliquez sur le bouton suivant :

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Ajouter X API v2 à Postman
</Button>

Une fois la collection X API v2 importée dans Postman, accédez au dossier “List”, sélectionnez le dossier “List Posts”, puis choisissez “List Posts lookup”.
 

<div id="step-two-authenticate-your-request">
  #### Étape deux : authentifier votre requête
</div>

Pour effectuer correctement une requête vers l’API X, vous devez vérifier que vous disposez des autorisations nécessaires. Pour ce faire avec cet endpoint, vous devez authentifier votre requête à l’aide de l’une des méthodes suivantes : [App only](/fr/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token), [OAuth 2.0 Authorization Code with PKCE](fr/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) ou [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication).

Pour simplifier, nous allons utiliser App only pour cette requête. Toutefois, si vous souhaitez accéder à des [métriques](/fr/x-api/fundamentals/metrics) privées ou à des posts, vous devrez utiliser l’une des autres méthodes d’authentification.

Pour utiliser App only, vous devez ajouter vos clés et jetons (en particulier le [App only Access Token](/fr/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token), également appelé App only Bearer Token) dans Postman en sélectionnant l’environnement nommé « X API v2 » (dans le coin supérieur droit de Postman), puis en ajoutant vos clés et jetons dans les champs « initial value » et « current value » (en cliquant sur l’icône en forme d’œil à côté du menu déroulant de l’environnement).

Si tout est configuré correctement, ces variables seront automatiquement renseignées dans l’onglet d’autorisation de la requête.
 

<div id="step-three-identify-and-specify-which-list-you-would-like-to-retrieve-posts-from">
  #### Étape trois : identifier et préciser la Liste à partir de laquelle vous souhaitez récupérer des Posts
</div>

Vous devez indiquer, dans la requête, la Liste à partir de laquelle vous souhaitez recevoir des Posts. Vous pouvez trouver l’ID de la Liste en vous rendant sur x.com, en cliquant sur une Liste, puis en consultant l’URL. Par exemple, l’ID de la Liste dans l’URL suivante est 84839422.

https://x.com/i/lists/84839422

L’ID cible peut être n’importe quel ID de Liste valide. Dans Postman, ouvrez l’onglet « Params » et saisissez votre ID dans la colonne « Value » de la variable de chemin id. Veillez à ne pas inclure d’espaces avant ou après un ID.

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| id  | 84839422 (l’ID de la Liste) |

<div id="step-four-identify-and-specify-which-fields-you-would-like-to-retrieve">
  #### Quatrième étape : identifier et préciser les champs que vous souhaitez récupérer
</div>

Si vous cliquez sur le bouton « Send » après l’étape trois, vous recevrez dans votre réponse les champs par défaut de l’[objet Post](/fr/x-api/fundamentals/data-dictionary#tweet) : id et text.

Si vous souhaitez recevoir des champs supplémentaires, vous devrez les indiquer dans votre requête avec les paramètres tweet.fields et/ou [expansions](/fr/x-api/fundamentals/expansions).

Pour cet exercice, nous demanderons trois ensembles supplémentaires de champs provenant d’objets différents :

* Le champ supplémentaire created&#95;at dans l’objet Lists principal.

* L’[objet user](/fr/x-api/fundamentals/data-dictionary#user) complet à l’aide du paramètre d’expansion

* Le champ supplémentaire user.created&#95;at dans l’objet user associé.

Dans Postman, accédez à l’onglet « Params » et ajoutez la paire clé:valeur suivante au tableau « Query Params » :

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Returned fields** |
| tweet.fields | created&#95;at | created&#95;at |
| expansions | author&#95;id | includes.users.id,  <br />includes.users.name,  <br />includes.users.username |
| user.fields | created&#95;at | includes.users.created&#95;at |

Vous devriez maintenant voir une URL similaire à côté du bouton « Send » :

`https://api.x.com/2/lists/84839422/tweets?expansions=author_id&user.fields=created_at&max_results=1`

<div id="step-five-make-your-request-and-review-your-response">
  #### Cinquième étape : envoyez votre requête et examinez la réponse
</div>

Une fois que tout est prêt, cliquez sur le bouton « Send » pour obtenir une réponse similaire à l’exemple ci-dessous :

```
{
  "data": [
    {
      "author_id": "4172587277",
      "id": "1458172421115101189",
      "text": "A Alemanha registrou nesta semana um recorde de novos casos de Covid-19. Segundo o governo e especialistas em Saúde, pessoas não vacinadas são responsáveis pela situação \nhttps://t.co/4POyaPwMLu"
    }
  ],
  "includes": {
    "users": [
      {
        "username": "MomentsBrasil",
        "name": "Twitter Moments Brasil",
        "created_at": "2015-11-12T16:46:02.000Z",
        "id": "4172587277"
      }
    ]
  },
  "meta": {
    "result_count": 1,
    "next_token": "7140dibdnow9c7btw3z2vwioavpvutgzrzm9icis4ndix"
  }
}
```

**Veuillez noter :** La réponse de cet endpoint prend en charge l’interrogation des 800 derniers posts pour une liste donnée.