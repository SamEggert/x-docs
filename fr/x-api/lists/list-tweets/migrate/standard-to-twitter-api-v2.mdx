---
title: de v1 à v2
sidebarTitle: de v1 à v2
---

import { Button } from '/snippets/fr/button.mdx';

<div id="list-posts-lookup-standard-v11-compared-to-x-api-v2">
  ### Consultation des publications de liste : Standard v1.1 vs X API v2
</div>

Si vous avez travaillé avec le point de terminaison standard v1.1 [GET lists/statuses](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/create-manage-lists/api-reference/get-lists-statuses), ce guide a pour objectif de vous aider à comprendre les similitudes et les différences entre les points de terminaison standard v1.1 et X API v2.

* **Similarités**
  * Méthodes d’authentification
  * Limites de débit
* **Différences**
  * URL des points de terminaison
  * Exigences pour l’application et le projet
  * Limites d’objets de données par requête
  * Formats des données de réponse
  * Paramètres de requête

<div id="similarities">
  #### Similarités
</div>

**Authentification**

Les deux versions d’endpoint prennent en charge [OAuth 1.0a en contexte utilisateur](/fr/resources/fundamentals/authentication#oauth-2-0). Par conséquent, si vous utilisiez l’un des endpoints de recherche de publications de liste standard v1.1, vous pouvez continuer à utiliser la même méthode d’authentification lors de la migration vers X API v2.

Selon la bibliothèque/le package d’authentification que vous utilisez, l’authentification App only est probablement le moyen le plus simple de démarrer et peut être configurée via un simple en-tête de requête. Pour savoir comment générer un App only Access Token, consultez [ce guide App only](/fr/resources/fundamentals/authentication#bearer-token-also-known-as-app-only).

**Limites de débit**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **X API v2** |
| /1.1/lists/statuses.json<br /><br />900 requêtes par fenêtre de 15 minutes avec OAuth 1.0a en contexte utilisateur<br /><br />900 requêtes par fenêtre de 15 minutes avec App only | /2/lists/:id/tweets<br /><br />900 requêtes par fenêtre de 15 minutes avec OAuth 1.0a en contexte utilisateur<br /><br />900 requêtes par fenêtre de 15 minutes avec OAuth 2.0 Authorization Code with PKCE<br /><br />900 requêtes par fenêtre de 15 minutes avec App only |

<div id="differences">
  #### Différences
</div>

**URL d’endpoint**

* Endpoints standard v1.1 :
  * GET https://api.x.com/1.1/lists/statuses.json
    (Récupérer des Tweets à partir d’une liste donnée)
* Endpoint X API v2 :
  * GET https://api.x.com/2/lists/:id/tweets
    (Récupérer des Tweets à partir d’une liste donnée)

**Exigences pour les Apps et les Projects**

Les endpoints X API v2 exigent que vous utilisiez des identifiants d’une [developer App](/fr/resources/fundamentals/developer-apps) associée à un [Project](/fr/resources/fundamentals/projects) lors de l’authentification de vos requêtes. Tous les endpoints X API v1.1 peuvent utiliser des identifiants d’Apps autonomes ou d’Apps associées à un Project.

**Limites d’objets de données par requête**

L’endpoint standard v1.1 /lists/statuses permet de renvoyer jusqu’à 5000 Posts par requête. Les nouveaux endpoints v2 permettent de renvoyer jusqu’à 100 Posts par requête. Par défaut, 100 objets user sont renvoyés ; pour modifier le nombre de résultats, vous devez passer un paramètre de requête max_results= avec une valeur entre 1 et 100 ; vous pouvez ensuite passer le next_token renvoyé dans la charge utile de la réponse au paramètre de requête pagination_token dans votre requête suivante.

**Format des données de réponse**

L’une des plus grandes différences entre les versions standard v1.1 et X API v2 réside dans la façon de sélectionner les champs renvoyés dans votre charge utile.

Pour les endpoints standard, vous recevez de nombreux champs de réponse par défaut, avec la possibilité d’utiliser des paramètres pour indiquer quels champs supplémentaires ou ensembles de champs doivent être renvoyés dans la charge utile.

La version X API v2 ne renvoie par défaut que les champs id et text du Post. Pour demander des champs ou objets supplémentaires, vous devez utiliser les paramètres [fields](/fr/x-api/fundamentals/fields) et [expansions](/fr/x-api/fundamentals/expansions). Tous les champs de Post demandés depuis cet endpoint sont renvoyés dans l’objet Post principal. Tous les champs d’objets étendus sont renvoyés dans un objet includes au sein de votre réponse. Vous pouvez ensuite faire correspondre les objets étendus à l’objet Post principal en faisant correspondre les ID de l’objet principal et des objets étendus. 

Voici des exemples de champs et d’expansions possibles pour les Posts :

* attachments

* author_id

* context_annotations

* created_at

* geo

* lang

|     |     |
| :--- | :--- |
| **Endpoint** | **Expansion** |
| /2/lists/:id/tweets | author_id |

Nous vous encourageons à en apprendre davantage sur ces nouveaux paramètres dans leurs guides respectifs, ou en consultant notre guide [comment utiliser fields et expansions](/fr/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions). 

Nous avons également préparé un [guide de migration du format de données](/fr/x-api/migrate/data-format-migration) qui peut vous aider à faire correspondre les champs standard v1.1 aux nouveaux champs v2. Ce guide vous fournira également le paramètre d’expansion et de champ spécifique que vous devrez passer avec votre requête v2 pour renvoyer des champs spécifiques. 

En plus des changements dans la façon de demander certains champs, X API v2 introduit également de nouveaux schémas JSON pour les objets renvoyés par les API, notamment les objets [Post](/fr/x-api/fundamentals/data-dictionary#tweet) et [user](/fr/x-api/fundamentals/data-dictionary#user).

* Au niveau racine du JSON, les endpoints standard renvoient des objets Post dans un tableau **statuses**, tandis que X API v2 renvoie un tableau **data**. 

* Au lieu de faire référence à des « statuses » Retweeted et Quoted, le JSON de X API v2 fait référence à des Tweets Retweeted et Quoted. De nombreux champs hérités et obsolètes, tels que **contributors** et **user.translator_type**, sont supprimés. 

* Au lieu d’utiliser à la fois **favorites** (dans l’objet Post) et **favourites** (dans l’objet user), X API v2 utilise le terme **like**.

* X adopte la convention selon laquelle les valeurs JSON sans valeur (par exemple **null**) ne sont pas écrites dans la charge utile. Les attributs de Post et d’utilisateur ne sont inclus que s’ils ont des valeurs non nulles.
   

**Paramètres de requête**

Les paramètres de requête standard v1.1 suivants ont des équivalents dans X API v2 :

|     |     |
| :--- | :--- |
| Standard v1.1 | X API v2 |
| list_id | id  |
| slug | Aucun équivalent |
| owner_screen_name | Aucun équivalent |
| owner_id | Demandé avec le paramètre expansions et la valeur author_id |
| since_id | Aucun équivalent |
| max_id | Aucun équivalent |
| include_entities | Demandé avec le paramètre tweet.fields et la valeur entities |
| include_rts | Aucun équivalent |
| count | max_results |