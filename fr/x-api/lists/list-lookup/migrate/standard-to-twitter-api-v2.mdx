---
title: v1 vers v2
sidebarTitle: v1 vers v2
---

import { Button } from '/snippets/fr/button.mdx';

<div id="list-lookup-standard-v11-compared-to-x-api-v2">
  ### Recherche de listes : standard v1.1 comparé à X API v2
</div>

Si vous avez travaillé avec les points de terminaison standard v1.1 [GET lists/show](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/create-manage-lists/api-reference/get-lists-show) et [GET lists/ownerships](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/create-manage-lists/api-reference/get-lists-ownerships), ce guide a pour but de vous aider à comprendre les similitudes et les différences entre les points de terminaison de recherche de listes du standard v1.1 et de X API v2.

* **Similitudes**
  * Méthodes d’authentification
  * Limites de débit
* **Différences**
  * URL des points de terminaison
  * Exigences liées aux applications et aux projets
  * Limites du nombre d’objets de données par requête
  * Formats des données de réponse
  * Paramètres de requête

<div id="similarities">
  #### Similarités
</div>

**Authentification**

Les deux versions d’endpoint prennent en charge à la fois [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication#oauth-1-0a-2) et l’[authentification Application seule](/fr/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token). Ainsi, si vous utilisiez auparavant l’un des endpoints standard v1.1 pour la recherche de listes, vous pouvez continuer à utiliser la même méthode d’authentification en migrant vers la version X API v2.

Selon la bibliothèque ou le package d’authentification que vous privilégiez, l’authentification Application seule est probablement le moyen le plus simple de démarrer et peut être configurée via un simple en-tête de requête. Pour savoir comment générer un jeton d’accès Application seule, consultez [ce guide dédié](/fr/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token).

**Limites de débit**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **X API v2** |
| /1.1/lists/show.json<br /><br />75 requêtes par fenêtre de 15 minutes avec OAuth 1.0a User Context<br /><br />75 requêtes par fenêtre de 15 minutes avec Application seule | /2/lists/:id<br /><br />75 requêtes par fenêtre de 15 minutes avec OAuth 1.0a User Context<br /><br />75 requêtes par fenêtre de 15 minutes avec OAuth 2.0 Authorization Code avec PKCE |
| /1.1/lists/ownerships.json<br /><br />15 requêtes par fenêtre de 15 minutes avec OAuth 1.0a User Context<br /><br />15 requêtes par fenêtre de 15 minutes avec Application seule | /2/users/:id/owned_lists<br /><br />15 requêtes par fenêtre de 15 minutes avec OAuth 1.0a User Context<br /><br />15 requêtes par fenêtre de 15 minutes avec OAuth 2.0 Authorization Code avec PKCE<br /><br />15 requêtes par fenêtre de 15 minutes avec Application seule |

<div id="differences">
  #### Différences
</div>

**URLs des endpoints**

* Endpoints standard v1.1 :
  * GET https://api.x.com/1.1/lists/show.json
    (Recherche d’une liste spécifiée)
  * GET https://api.x.com/1.1/lists/ownerships.json
    (Recherche des listes détenues par l’utilisateur spécifié)
* Endpoint X API v2 :
  * GET https://api.x.com/2/lists/:id
    (Recherche d’une liste spécifiée)

  * GET https://api.x.com/2/users/:id/owned_lists
    (Recherche des listes détenues par l’utilisateur spécifié)

**Exigences relatives à l’app et au projet**

Les endpoints X API v2 exigent que vous utilisiez des identifiants provenant d’une [developer App](/fr/resources/fundamentals/developer-apps) associée à un [Project](/fr/resources/fundamentals/projects) lors de l’authentification de vos requêtes. Tous les endpoints X API v1.1 peuvent utiliser des identifiants d’apps autonomes ou d’apps associées à un projet.

**Limites d’objets de données par requête**

L’endpoint standard v1.1 /lists/ownerships permet de renvoyer jusqu’à 1000 listes par requête. Les nouveaux endpoints v2 permettent de renvoyer jusqu’à 100 listes par requête. Par défaut, 100 objets user sont renvoyés ; pour modifier le nombre de résultats, vous devez transmettre un paramètre de requête max_results= avec un nombre entre 1 et 100 ; vous pouvez ensuite transmettre le next_token renvoyé dans la charge utile de la réponse au paramètre de requête pagination_token dans votre requête suivante.

**Format des données de réponse**

L’une des principales différences entre les versions d’endpoints standard v1.1 et X API v2 est la manière dont vous sélectionnez les champs renvoyés dans votre charge utile.

Pour les endpoints standard, vous recevez de nombreux champs de réponse par défaut, puis avez la possibilité d’utiliser des paramètres pour identifier les champs supplémentaires ou ensembles de champs à renvoyer dans la charge utile.

La version X API v2 ne renvoie par défaut que les champs id et name de la liste. Pour demander des champs ou objets supplémentaires, vous devez utiliser les paramètres [fields](/fr/x-api/fundamentals/fields) et [expansions](/fr/x-api/fundamentals/expansions). Tous les champs de liste demandés depuis cet endpoint sont renvoyés dans l’objet List principal. Tout objet Post ou user étendu, ainsi que ses champs, est renvoyé dans un objet includes au sein de la réponse. Vous pouvez ensuite faire correspondre tout objet étendu avec l’objet List en faisant correspondre les ID présents à la fois dans l’objet user et dans l’objet Post étendu. 

Voici des exemples de champs et d’expansions possibles pour List :

* created_at

* follower_count

* member_count

* owner_id

* description

* private

|     |     |
| :--- | :--- |
| **Endpoint** | **Expansion** |
| /2/lists/:id | owner_id |
| /2/users/:id/owned_lists | owner_id |

Nous vous encourageons à en lire davantage sur ces nouveaux paramètres dans leurs guides respectifs, ou en consultant notre guide sur [how to use fields and expansions](/fr/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions). 

Nous avons également élaboré un [data format migration guide](/fr/x-api/migrate/data-format-migration) qui peut vous aider à mapper les champs standard v1.1 vers les champs v2 plus récents. Ce guide vous fournira aussi le paramètre d’expansion et le paramètre de champ spécifiques que vous devrez transmettre avec votre requête v2 pour renvoyer des champs précis. 

En plus des changements concernant la manière de demander certains champs, X API v2 introduit également de nouveaux schémas JSON pour les objets renvoyés par les API, y compris les objets [Post](/fr/x-api/fundamentals/data-dictionary#tweet) et [user](/fr/x-api/fundamentals/data-dictionary#user).

* Au niveau racine du JSON, les endpoints standard renvoient des objets Post dans un tableau statuses, tandis que X API v2 renvoie un tableau data. 

* Au lieu de faire référence aux « statuses » Retweeted et Quoted, le JSON de X API v2 fait référence aux Tweets Retweeted et Quoted. De nombreux champs hérités et obsolètes, tels que contributors et user.translator_type, sont supprimés. 

* Au lieu d’utiliser à la fois favorites (dans l’objet Post) et favourites (dans l’objet user), X API v2 utilise le terme like. 

* X adopte la convention selon laquelle les valeurs JSON vides (par exemple, null) ne sont pas écrites dans la charge utile. Les attributs Post et user ne sont inclus que s’ils ont des valeurs non nulles.

**Paramètres de requête**

Les paramètres de requête standard v1.1 suivants ont des équivalents dans X API v2 :

**Recherche de liste par ID**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **X API v2** |
| list_id | id  |
| slug | Aucun équivalent |
| owner_screen_name | Aucun équivalent |
| owner_id | Demandé avec le paramètre expansions/fields |

**Recherche des listes détenues par l’utilisateur**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **X API v2** |
| user_id | id  |
| screen_name | Aucun équivalent |
| count | max_results |
| cursor | pagination_token |