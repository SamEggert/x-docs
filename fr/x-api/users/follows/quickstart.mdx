---
title: Guide de démarrage rapide
sidebarTitle: Guide de démarrage rapide
---

import { Button } from '/snippets/fr/button.mdx';

<div id="getting-started-with-the-manage-follows-endpoints">
  ## Prise en main des endpoints de gestion des abonnements
</div>

Ce guide de démarrage rapide vous aidera à effectuer votre première requête vers les endpoints de gestion des abonnements avec [Postman](/fr/tutorials/postman-getting-started).

Si vous souhaitez consulter des exemples de code dans différents langages, rendez-vous sur notre dépôt GitHub [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code).

<Note>
  ### Prérequis

  Pour suivre ce guide, vous aurez besoin d’un ensemble de [keys and tokens](/fr/resources/fundamentals/authentication) pour authentifier votre requête. Vous pouvez générer ces clés et jetons en suivant ces étapes :

  * [Sign up for a developer account](https://developer.x.com/en/apply-for-access) et obtenir l’approbation.
  * Créez un [Project](/fr/resources/fundamentals/projects) et une [developer App](/fr/resources/fundamentals/developer-apps) associée dans le portail développeur.
  * Accédez à la page “Keys and tokens” de votre App pour générer les identifiants requis. Veillez à enregistrer tous les identifiants dans un emplacement sécurisé.
</Note>

<div id="steps-to-build-a-manage-follows-request">
  ### Étapes pour créer une requête de gestion des abonnements
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### Première étape : commencez avec un outil ou une bibliothèque
</div>

Il existe plusieurs outils, exemples de code et bibliothèques que vous pouvez utiliser pour envoyer une requête à cet endpoint, mais nous allons utiliser Postman ici pour simplifier le processus.

Pour charger la collection Postman X API v2 dans votre environnement, veuillez cliquer sur le bouton suivant :

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Ajouter X API v2 à Postman
</Button>

Une fois la collection X API v2 chargée dans Postman, accédez au dossier « Follows », puis sélectionnez « Follow a user ID ».
 

<div id="step-two-authenticate-your-request">
  #### Deuxième étape : authentifier votre requête
</div>

Pour envoyer correctement une requête à l’API X, vous devez vérifier que vous disposez des autorisations nécessaires. Pour ce faire avec cet endpoint, vous devez authentifier votre requête en utilisant soit [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication), soit [OAuth 2.0 Authorization Code with PKCE](fr/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2).

Dans cet exemple, nous allons utiliser OAuth 1.0a User Context.

Vous devez ajouter vos clés et jetons — en particulier votre API Key, API Secret Key, OAuth 1.0a user Access Token et OAuth 1.0a user Access Token Secret — dans Postman. Pour ce faire, sélectionnez l’environnement nommé « X API v2 » dans l’angle supérieur droit de Postman, puis ajoutez vos clés et jetons dans les champs « initial value » et « current value » (en cliquant sur l’icône en forme d’œil à côté du menu déroulant d’environnement).

Ces variables seront automatiquement reprises dans l’onglet Authorization de la requête si vous avez effectué cette opération correctement.
 

<div id="step-three-specify-who-is-going-to-follow-whom">
  #### Troisième étape : spécifier qui suit qui
</div>

Les endpoints de gestion des abonnements prennent deux ID : un pour l’utilisateur source (l’utilisateur qui souhaite s’abonner à ou se désabonner d’un autre utilisateur) et un pour l’utilisateur cible (l’utilisateur qui sera suivi ou ne sera plus suivi). L’ID de l’utilisateur source doit correspondre à l’ID de l’utilisateur authentifié. Dans ce cas, vous pouvez spécifier l’ID de votre propre compte. Vous pouvez trouver votre ID de deux manières :

1. En utilisant l’endpoint [user lookup by username](/fr/x-api/users/user-lookup-by-id), vous pouvez transmettre un nom d’utilisateur et recevoir le champ id.
2. En consultant votre Access Token, vous constaterez que la partie numérique correspond à votre ID utilisateur.

L’ID cible peut être n’importe quel ID utilisateur valide. Par exemple, l’ID utilisateur de @XDevelopers est 2244994945.

Dans Postman, allez à l’onglet « Params » et saisissez votre ID dans la colonne « Value » de la variable de chemin id. Allez à l’onglet « Body » et indiquez 2244994945 (l’ID utilisateur de @XDevelopers) comme valeur pour le paramètre target&#95;user&#95;id. Veillez à ne pas inclure d’espaces avant ou après un ID.

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | (votre ID utilisateur) |
| target&#95;user&#95;id | 2244994945 |

Si vous cliquez sur le bouton « Send », vous recevrez un objet de réponse contenant l’état de la relation :

* Si vous recevez &quot;following&quot;: true, alors l’ID suit bien le target&#95;user&#95;id.
* Si vous recevez &quot;pending&quot;: true, alors le target&#95;user&#95;id est protégé et doit accepter votre demande d’abonnement.

####

Quatrième étape : Envoyez votre requête et vérifiez la réponse

Une fois que tout est en place, cliquez sur le bouton « Send » et vous recevrez la réponse suivante :

```{
    "data": {
        "following": true,
        "pending_follow": false
    }
}
```

De même, si vous souhaitiez ne plus suivre un utilisateur, vous utiliseriez la requête « Unfollow a user ID » dans la même collection Postman. Cependant, les paramètres source&#95;user&#95;id et target&#95;user&#95;id doivent être transmis comme variables de chemin en utilisant l’endpoint d’unfollow. 