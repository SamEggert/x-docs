---
title: Guide d’intégration
sidebarTitle: Guide d’intégration
---

import { Button } from '/snippets/fr/button.mdx';

Cette page présente plusieurs outils et concepts clés à connaître lors de l’intégration des endpoints de recherche d’utilisateurs à votre système. Nous avons divisé la page en plusieurs sections :

* [Outils utiles](#helpful)
* Concepts clés
* [Authentification](#authentication)
* [Developer portal, Projects, and Apps](#portal)
* [Limites de taux](#limits)
* [Champs et expansions](#fields)
* [Cas limites](#edge)

<div id="helpful-tools">
  ### Outils utiles
</div>

Avant d’aborder certains concepts clés qui vous aideront à intégrer ce point de terminaison, nous vous recommandons de vous familiariser avec :

<div id="postman">
  #### Postman
</div>

Postman est un excellent outil pour tester un endpoint. Chaque requête Postman inclut tous les paramètres de chemin et de corps afin de vous aider à comprendre rapidement ce qui est disponible. Pour en savoir plus sur nos collections Postman, consultez notre page [&quot;Utiliser Postman&quot;](/fr/tutorials/postman-getting-started). 

<div id="code-samples">
  #### Exemples de code
</div>

Vous souhaitez configurer cet endpoint avec du code dans votre langage de programmation préféré ? Nous proposons plusieurs exemples de code à utiliser comme point de départ sur notre [page GitHub](https://github.com/xdevplatform/Twitter-API-v2-sample-code).

<div id="third-party-libraries">
  #### Bibliothèques tierces
</div>

Profitez de l’une des [bibliothèques tierces](/fr/x-api/tools-and-libraries/overview) proposées par notre communauté pour vous lancer. Pour trouver une bibliothèque compatible avec les endpoints v2, recherchez la balise de version appropriée.

<div id="key-concepts">
  ### Concepts clés
</div>

<div id="authentication">
  #### Authentification
</div>

Tous les endpoints de X API v2 exigent que les requêtes soient [authentifiées](/fr/resources/fundamentals/authentication) à l’aide d’un jeu d’identifiants, également appelé clés et jetons. Vous pouvez utiliser OAuth 1.0a User Context, App only, ou OAuth 2.0 Authorization Code with PKCE pour authentifier les requêtes vers ces endpoints.

[OAuth 1.0a User Context](/fr/resources/fundamentals/authentication#oauth-1-0a-2) vous demande d’utiliser vos API Keys, des Access Tokens utilisateur, ainsi que quelques autres paramètres pour [créer un en-tête d’autorisation](/fr/resources/fundamentals/authentication#authorizing-a-request), que vous joindrez ensuite à votre requête. Les Access Tokens doivent être associés à l’utilisateur pour le compte duquel vous effectuez la requête. Si vous souhaitez générer un jeu d’Access Tokens pour un autre utilisateur, celui-ci doit autoriser votre App via le [flux OAuth à 3 étapes](https://developer-staging.x.com/resources/fundamentals/authentication/obtaining-user-access-tokens).

Veuillez noter qu’OAuth 1.0a peut être difficile à utiliser. Si vous n’êtes pas familier avec cette méthode d’authentification, nous vous recommandons d’utiliser une [bibliothèque](/fr/x-api/tools-and-libraries/overview), un outil comme Postman, ou OAuth 2.0 pour authentifier vos requêtes. Si vous souhaitez récupérer un Post ou des métriques privées à partir de ces endpoints, vous devrez utiliser OAuth 1.0a User Context ou OAuth 2.0 Authorization Code with PKCE, ce qui garantira que vous disposez des autorisations appropriées de l’utilisateur propriétaire de ce contenu.

[App only](/fr/resources/fundamentals/authentication#bearer-token-also-known-as-app-only) nécessite simplement de transmettre un [App only Access Token](/fr/resources/fundamentals/authentication#bearer-token-also-known-as-app-only) avec votre requête. Vous pouvez générer un App only Access Token directement depuis une App développeur, ou en générer un via l’endpoint [POST oauth2/token](/fr/resources/fundamentals/authentication#post-oauth2-token).

[OAuth 2.0 Authorization Code with PKCE](/fr/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) offre un contrôle accru sur la portée d’une application et des flux d’autorisation multi-appareils. OAuth 2.0 vous permet de sélectionner des scopes fins qui vous confèrent des autorisations spécifiques au nom d’un utilisateur.

Pour activer OAuth 2.0 dans votre App, vous devez l’activer dans les paramètres d’authentification de votre App, disponibles dans la section des paramètres de l’App du portail développeur.

**Veuillez noter**

Si vous demandez les champs suivants, OAuth 1.0a User Context ou OAuth 2.0 Authorization Code est requis :

* tweet.fields.non&#95;public&#95;metrics
* tweet.fields.promoted&#95;metrics
* tweet.fields.organic&#95;metrics

<div id="developer-portal-projects-and-developer-apps">
  #### Portail développeur, Projets et applications développeur
</div>

Pour obtenir un ensemble d’informations d’authentification compatibles avec les points de terminaison de l’API X v2, vous devez [créer un compte développeur](https://developer.x.com/en/portal/petition/essential/basic-info), configurer un [Projet](/fr/resources/fundamentals/projects) au sein de ce compte, puis créer une [application développeur](/fr/resources/fundamentals/developer-apps) dans ce Projet. Vous pourrez ensuite trouver vos clés et jetons dans votre application développeur. 
 

<div id="rate-limits">
  #### Limites de débit
</div>

Chaque jour, des dizaines de milliers de développeurs envoient des requêtes à l’API X. Pour gérer le volume de ces requêtes, des [limites de débit](/fr/x-api/fundamentals/rate-limits) sont appliquées à chaque endpoint, ce qui restreint le nombre de requêtes que vous pouvez effectuer au nom de votre application ou d’un utilisateur authentifié.

Les endpoints de recherche d’utilisateurs sont soumis à des limites de débit à la fois au niveau de l’application et au niveau de l’utilisateur. En revanche, l’endpoint de recherche de l’utilisateur authentifié est limité au niveau de l’utilisateur.

La limite de débit au niveau de l’application signifie que vous, en tant que développeur, ne pouvez effectuer qu’un certain nombre de requêtes vers cet endpoint sur une période donnée depuis n’importe quelle application (déterminée par les clés et jetons que vous utilisez). La limite de débit au niveau de l’utilisateur signifie que l’utilisateur authentifié pour lequel vous effectuez la requête ne peut exécuter l’opération qu’un certain nombre de fois, et ce, quelle que soit l’application du développeur.

Le tableau ci-dessous présente les limites de débit pour chaque endpoint.

|     |     |     |
| :--- | :--- | :--- |
| **Endpoint** | **Méthode HTTP** | **Limite de débit / Niveau** |
| /2/users | GET | 900 requêtes par 15 minutes / Application et Utilisateur |
| /2/users/:id | GET | 900 requêtes par 15 minutes / Application et Utilisateur |
| /2/users/by | GET | 900 requêtes par 15 minutes / Application et Utilisateur |
| /2/users/by/username/:username | GET | 900 requêtes par 15 minutes / Application et Utilisateur |
| /2/users/me | GET | 75 requêtes par 15 minutes / Utilisateur |

<div id="fields-and-expansions">
  #### Champs et expansions
</div>

L’API X v2 permet aux utilisateurs de sélectionner précisément les données à renvoyer par l’API grâce à un ensemble d’outils appelés champs et expansions. Le paramètre expansion vous permet d’étendre les objets référencés dans la charge utile. Par exemple, cet endpoint vous permet d’utiliser l’expansion pinned&#95;tweet&#95;id.

Le paramètre fields vous permet de sélectionner exactement quels [champs](/fr/x-api/fundamentals/fields) des différents objets de données vous souhaitez recevoir. Ces endpoints renvoient principalement des objets utilisateur. Par défaut, l’objet utilisateur renvoie les champs id, name et username. Pour recevoir des champs supplémentaires tels que user.created&#95;at ou user.location, vous devrez les demander explicitement via un paramètre fields. Parmi les champs importants à envisager pour votre intégration figurent les données de sondage de publication, les métriques, les annotations et l’identifiant de conversation.

Nous avons ajouté un guide expliquant comment [utiliser les champs et les expansions](/fr/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions) dans notre [dictionnaire de données de l’API X v2](/fr/x-api/fundamentals/data-dictionary).

<div id="edge-cases">
  #### Cas limites
</div>

* Le texte des Publications est tronqué pour les Retweets. À court terme, la solution consiste à développer la Publication référencée et à récupérer le texte complet à partir de l’expansion. Il s’agit d’un bug que nous corrigerons à l’avenir.