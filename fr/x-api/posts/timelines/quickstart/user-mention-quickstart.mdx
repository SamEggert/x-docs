---
title: Mentions d’utilisateurs
sidebarTitle: Mentions d’utilisateurs
---

import { Button } from '/snippets/fr/button.mdx';

<div id="getting-started-with-the-user-post-and-mention-timeline-endpoints">
  ## Premiers pas avec les endpoints de chronologie des Posts utilisateur et des mentions
</div>

Ce guide de démarrage rapide vous aidera à effectuer votre première requête vers l’endpoint de chronologie des Posts utilisateur avec un ensemble de champs spécifiés à l’aide de [Postman](/fr/tutorials/postman-getting-started).

Si vous souhaitez voir des exemples de code dans différents langages, veuillez consulter notre dépôt GitHub [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code).

<Note>
  **Prérequis**

  Pour suivre ce guide, vous aurez besoin d’un ensemble de [keys and tokens](/fr/resources/fundamentals/authentication) pour authentifier votre requête. Vous pouvez générer ces clés et jetons en suivant ces étapes :

  * [Sign up for a developer account](https://developer.x.com/en/apply-for-access) et recevoir l’approbation.
  * Créez un [Project](/fr/resources/fundamentals/projects) et une [developer App](/fr/resources/fundamentals/developer-apps) associée dans le portail développeur.
  * Accédez à la page “Keys and tokens” de votre App pour générer les identifiants requis. Assurez-vous d’enregistrer tous les identifiants dans un emplacement sécurisé.
</Note>

**Étapes pour créer une requête de chronologie**

*Pour cet exemple, nous allons effectuer une requête vers l’endpoint de chronologie des Posts utilisateur par ID, mais vous pouvez appliquer les enseignements de ce démarrage rapide aux requêtes de chronologies des mentions utilisateur également.*

**Première étape : démarrer avec un outil ou une bibliothèque**

Il existe plusieurs outils, exemples de code et bibliothèques que vous pouvez utiliser pour effectuer une requête vers cet endpoint, mais nous allons utiliser l’outil Postman ici pour simplifier le processus.

Pour charger la collection X API v2 Postman dans votre environnement, veuillez cliquer sur le bouton suivant :

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Ajouter X API v2 à Postman
</Button>

Une fois la collection X API v2 chargée dans Postman, accédez au dossier timeline et trouvez la requête &quot;User Post timeline by ID&quot;.
 

**Deuxième étape : authentifier votre requête**

Pour effectuer correctement une requête vers la X API, vous devez vérifier que vous disposez des autorisations nécessaires. Pour ce faire avec cet endpoint, vous devez authentifier votre requête avec l’une des méthodes suivantes : [OAuth 2.0 App-Only](/fr/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token), [OAuth 2.0 Authorization Code with PKCE](fr/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2), ou [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication).

Pour simplifier, nous utiliserons OAuth 2.0 App-Only pour cette requête, mais vous devrez utiliser l’une des autres méthodes d’authentification si vous souhaitez demander des [metrics](/fr/x-api/fundamentals/metrics) privées ou des Posts.

Vous devez ajouter vos clés et jetons, en particulier le [App Access Token](/fr/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token) (également appelé App-only Bearer Token) dans Postman. Pour ce faire, sélectionnez l’environnement nommé “X API v2” dans le coin supérieur droit de Postman et ajoutez vos clés et jetons dans les champs &quot;initial value&quot; et &quot;current value&quot; (en cliquant sur l’icône en forme d’œil à côté du menu déroulant de l’environnement).

Cette variable sera automatiquement intégrée dans l’onglet d’autorisation de la requête si vous avez effectué cette opération correctement.
 

**Troisième étape : identifier et spécifier l’utilisateur dont vous souhaitez récupérer les Posts**

Vous devez spécifier un utilisateur pour lequel vous souhaitez récupérer les Posts récents dans la requête. Dans cet exemple, nous allons passer un seul ID utilisateur.

Les IDs utilisateur sont simplement la valeur numérique qui représente un handle de compte, que vous pouvez trouver dans l’URL du profil d’un compte. Par exemple, le nom d’utilisateur du compte suivant est `XDevelopers`.

`https://x.com/XDevelopers`

Pour convertir ce nom d’utilisateur en ID utilisateur, vous devrez utiliser le [users lookup endpoint](/fr/x-api/users/lookup/introduction) avec le nom d’utilisateur et trouver l’ID utilisateur numérique dans le payload. Dans le cas de @XDevelopers, l’ID utilisateur est 2244994945.

Dans Postman, accédez à l’onglet &quot;Params&quot; et saisissez cet ID utilisateur dans la colonne &quot;Value&quot; du paramètre id.

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | 2244994945 |

**Quatrième étape : identifier et spécifier les champs que vous souhaitez récupérer**

Si vous cliquez sur le bouton « Send » après l’étape trois, vous recevrez dans votre réponse les champs par défaut de l’[objet Post](/fr/x-api/fundamentals/data-dictionary#tweet) : id et text.

Si vous souhaitez recevoir des champs supplémentaires au-delà de id et text, vous devrez les spécifier dans votre requête à l’aide des paramètres [field](/fr/x-api/fundamentals/fields) et/ou [expansion](/fr/x-api/fundamentals/expansions).

Pour cet exercice, nous allons demander trois ensembles supplémentaires de champs provenant d’objets différents :

1. Le champ supplémentaire tweet.created_at dans les objets utilisateur principaux.

2. Les champs par défaut de l’objet user des auteurs associés pour les Posts retournés : id, name et username

3. Le champ supplémentaire user.created_at dans les objets utilisateur associés.
    

Dans Postman, accédez à l’onglet « Params » et ajoutez la paire clé:valeur suivante au tableau « Query Params » :

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Returned fields** |
| `tweet.fields` | `created_at` | `tweets.created_at` |
| `expansions` | `author_id` | `includes.users.id`, `includes.users.name`, `includes.users.username` |
| `user.fields` | `created_at` | `includes.users.created_at` |
| max_results | 5   |     |

Vous devriez maintenant voir l’URL suivante à côté du bouton « Send » :

`https://api.x.com/2/users/:id/tweets?tweet.fields=created_at&expansions=author_id&user.fields=created_at&max_results=5`

<Info>
  **Veuillez noter :**

  Dans Postman, le paramètre de chemin :id dans le champ URL ne se met **pas** automatiquement à jour avec la valeur que vous saisissez dans le champ de paramètres `id`, c’est pourquoi l’URL ci-dessus inclut `:id` et non 2244994945.
</Info>

**Étape cinq : envoyez votre requête et examinez votre réponse**

Une fois que tout est configuré, cliquez sur le bouton « Send » et vous recevrez la réponse suivante :

```{
    "data": [
        {
            "author_id": "2244994945",
            "created_at": "2020-09-03T17:31:39.000Z",
            "id": "1301573587187331074",
            "text": "À partir d’aujourd’hui, vous pouvez consulter votre utilisation mensuelle des Tweets pour l’API v2 dans le portail développeur. ✨📊\n\nCela indique combien de Tweets vous avez reçus via le flux filtré et la recherche récente. En savoir plus ici : https://t.co/nfJHkFRQcZ https://t.co/vFXmoj3qaA"
        },
        {
            "author_id": "2244994945",
            "created_at": "2020-09-03T15:43:00.000Z",
            "id": "1301546240887398401",
            "text": "RT @snowman: Nous avons créé un classement de golf en direct sur l’API X avec Python, Flask, Postgres et Heroku.\n\nEnvoyez un message privé « leaderboard »…"
        },
        {
            "author_id": "2244994945",
            "created_at": "2020-09-01T20:07:50.000Z",
            "id": "1300888112948752389",
            "text": "⛳ Pourquoi les golfeurs emportent-ils une chemise de rechange ? Au cas où ils feraient un trou en un.\n\nMaintenant que nous avons votre attention, découvrez comment @snowman et @johnd ont créé un classement de golf en temps réel avec le #TwitterAPI. 📖\n\nhttps://t.co/rRKeKmaRrN"
        },
        {
            "author_id": "2244994945",
            "created_at": "2020-08-28T23:14:22.000Z",
            "id": "1299485505478963200",
            "text": "RT @jessicagarson: J’ai publié mon premier tutoriel sur @ThePracticalDev sur l’utilisation de la v2 de l’API Twitter ! Vous apprendrez à explorer les Twee…"
        },
        {
            "author_id": "2244994945",
            "created_at": "2020-08-21T19:10:05.000Z",
            "id": "1296887316556980230",
            "text": "Découvrez comment @PennMedCDH utilisent des données Twitter pour comprendre la crise sanitaire liée au COVID-19 📊\n\nhttps://t.co/1tdA8uDWes"
        }
    ],
    "includes": {
        "users": [
            {
                "created_at": "2013-12-14T04:35:55.000Z",
                "id": "2244994945",
                "name": "Twitter Dev",
                "username": "TwitterDev"
            }
        ]
    },
    "meta": {
        "newest_id": "1301573587187331074",
        "next_token": "t3buvdr5pujq9g7bggsnf3ep2ha28",
        "oldest_id": "1296887316556980230",
        "previous_token": "t3equkmcd2zffvags2nkj0nhlrn78",
        "result_count": 5
    }
}
```

**Étape six : parcourir vos résultats**

Dans la réponse précédente, vous trouverez en bas un objet de métadonnées qui inclut les champs suivants :

* oldest_id
* newest_id
* results_count
* next_token
* previous_token

À l’étape quatre, nous avons défini `max_results` sur 5, ce qui signifie que chaque page inclura au maximum cinq résultats. Pour accéder aux pages supplémentaires de données, prenez la valeur du champ `next_token` de vos derniers résultats et ajoutez cette chaîne comme valeur du paramètre `pagination_token` sur la page des paramètres Postman, en gardant tout le reste identique.

|     |     |
| :--- | :--- |
| **Clé** | **Valeur** |
| `pagination_token` | t3buvdr5pujq9g7bggsnf3ep2ha28 |

Une fois tout configuré, cliquez de nouveau sur « Send » et vous devriez recevoir la page de résultats suivante.

Nous avons rédigé un guide sur la [pagination](/fr/x-api/fundamentals/pagination) pour expliquer plus en détail ce concept.

**Prochaines étapes**
[Personnaliser votre requête à l’aide de la référence de l’API](/fr/x-api/posts/timelines#api-reference-index)

[Contacter la communauté pour obtenir de l’aide](https://devcommunity.x.com "Reach out to the community for help")