---
title: v1 vers v2
sidebarTitle: v1 vers v2
---

import { Button } from '/snippets/fr/button.mdx';

<div id="standard-v11-timelines-to-x-api-v2-timelines">
  ## Chronologies standard v1.1 vers chronologies X API v2
</div>

Si vous avez utilisé les endpoints de chronologie v1.1 (statuses/user&#95;timeline et statuses/mentions&#95;timeline), l’objectif de ce guide est de vous aider à comprendre les similitudes et les différences entre les endpoints de chronologie standard et ceux de X API v2 afin de migrer votre intégration actuelle vers la nouvelle version.

* **Similarités :**
  * Authentification :
    * OAuth 1.0a en contexte utilisateur (chronologie d’accueil en ordre antéchronologique, chronologie des publications de l’utilisateur et chronologie des mentions de l’utilisateur)
    * OAuth 2.0 App-Only (chronologie des publications de l’utilisateur)
  * Limite d’accès historique : la chronologie de l’utilisateur (chronologie des publications de l’utilisateur) donne accès aux 3 200 publications les plus récentes ; la chronologie des mentions (chronologie des mentions de l’utilisateur) donne accès aux 800 mentions les plus récentes.
  * Prise en charge de l’historique d’édition des publications et des métadonnées
  * Limites de débit (chronologie des publications de l’utilisateur)
  * Actualisation par interrogation (polling) : possibilité de récupérer les nouveaux résultats depuis le since&#95;id
  * Parcours des chronologies par ID de publication
  * Spécifications des résultats :
    * Ordre des résultats : résultats renvoyés en ordre antéchronologique
    * Possibilité d’exclure les réponses (chronologie des publications de l’utilisateur uniquement)
    * Possibilité d’exclure les Retweets (chronologie des publications de l’utilisateur uniquement)
* **Différences**
  * Nouvelle capacité d’authentification :
    * OAuth 2.0 App-Only (chronologie des mentions de l’utilisateur)
    * OAuth 2.0 Authorization Code Flow avec PKCE (chronologie d’accueil en ordre antéchronologique, chronologie des publications de l’utilisateur et chronologie des mentions de l’utilisateur)
  * Exigences d’accès : exigences d’application et de projet X API v2
  * Limites de débit (chronologie des mentions de l’utilisateur et chronologie d’accueil en ordre antéchronologique)
  * Limites de requêtes et de volume différentes
  * Méthode de pagination supplémentaire
    * max&#95;results (count) différent par réponse
  * Format des données de réponse
  * Paramètres de requête
    * Format de données personnalisé selon les paramètres de requête, incluant les champs et expansions v2
    * Données supplémentaires disponibles : métriques, annotations de publication, sondages

<div id="similarities">
  ### Similarités
</div>

**Authentification**

Les endpoints v1.1 statuses/user&#95;timeline et l’endpoint X API v2 user Post timeline prennent en charge à la fois [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication) et [OAuth 2.0 App-Only](/fr/resources/fundamentals/authentication#bearer-token-also-known-as-app-only). Par conséquent, vous pouvez continuer à utiliser la même méthode d’authentification et les mêmes jetons d’autorisation si vous migrez vers la version X API v2.

**Accès à l’historique**

Les endpoints v1.1 statuses/user&#95;timeline et X API v2 user Post timeline renvoient tous deux les 3 200 Posts les plus récents, y compris les Retweets.

Les endpoints v1.1 statuses/mentions&#95;timeline et X API v2 user mention timeline peuvent renvoyer les 800 Posts les plus récents.

**Prise en charge de l’historique d’édition des Posts et des métadonnées**

Les deux versions fournissent des métadonnées décrivant tout historique d’édition. Consultez les [références de l’API de flux filtré](/fr/x-api/posts/filtered-stream#api-reference-index) et la [page Notions fondamentales sur l’édition des Posts](/fr/x-api/fundamentals/edit-posts) pour plus de détails. 

**Limites de débit**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **X API v2** |
| user&#95;timeline:<br /><br />900 requêtes par fenêtre de 15 minutes avec OAuth 1.0a User Context<br /><br />1 500 requêtes par fenêtre de 15 minutes avec OAuth 2.0 App-Only | User Posts timeline:<br /><br />900 requêtes par fenêtre de 15 minutes avec OAuth 1.0a User Context<br /><br />1 500 requêtes par fenêtre de 15 minutes avec OAuth 2.0 App-Only |

**Actualisation par sondage avec since&#95;id**

Les deux versions permettent d’interroger les résultats récents à l’aide de since&#95;id.

**Parcours des timelines par ID de Post**

Les deux endpoints peuvent parcourir les timelines en utilisant des « horodatages » d’ID de Post basés sur la manière dont les ID de Post sont construits. La fonctionnalité est généralement la même, à l’exception de ce qui suit :

|     |     |
| :--- | :--- |
| **Standard timelines v1.1** | **timelines v2** |
| since&#95;id (exclusif)<br /><br />max&#95;id (inclusif) | since&#95;id (exclusif)<br /><br />until&#95;id (également exclusif, contrairement à max&#95;id qui était inclusif) |

**Paramètres de filtrage de la réponse**

|     |     |
| :--- | :--- |
| **Standard timelines v1.1** | **timelines v2** |
| Paramètres de filtrage de la réponse :<br /><br />* include&#95;rts<br />* exclude&#95;replies | Paramètres de filtrage de la réponse :<br /><br />* exclude=retweets,replies |
| Exemple :<br /><br />https://api.x.com/1.1/statuses/user&#95;timeline.json?user&#95;id=2244994945&amp;include&#95;rts=0&amp;&amp;exclude&#95;replies=1 | Exemple :<br /><br />https://api.x.com/2/users/2244994945/tweets?max&#95;results=100&amp;exclude=retweets,replies |
| Remarques :<br /><br />Pour user&#95;timeline :<br /><br />* L’utilisation de include&#95;rts=0 ne modifie pas la limite d’historique possible des 3 200 Posts les plus récents | Remarques :<br /><br />Pour user Posts timeline :<br /><br />* L’utilisation de exclude=retweets ne modifie pas la limite d’historique possible des 3 200 Posts les plus récents<br />* L’utilisation de exclude=replies réduit la limite d’historique possible aux 800 réponses les plus récentes |

<div id="differences">
  ### Différences
</div>

**Authentification**

**L’endpoint v1.1 statuses/mentions&#95;timeline prend uniquement en charge [OAuth 1.0a User Context](https://developer-staging.x.com/resources/fundamentals/authentication). L’endpoint de la timeline des mentions utilisateur de l’API X v2 prend en charge [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication), [OAuth 2.0 App-Only](/fr/resources/fundamentals/authentication#bearer-token-also-known-as-app-only) et [OAuth 2.0 Authorization Code with PKCE](/fr/resources/fundamentals/authenticationoauth-2-0/authorization-code "Cette méthode permet à une application autorisée d’agir au nom de l’utilisateur, en tant que celui-ci. Elle est généralement utilisée pour accéder à des informations publiques pour un utilisateur spécifique ou en publier, et elle est utile lorsque votre application doit connaître la relation entre un utilisateur et ce que renvoie cet endpoint. Cliquez pour savoir comment vous authentifier avec OAuth 2.0 Authorization Code with PKCE.")**

Si vous souhaitez bénéficier de la possibilité d’accéder à des métriques privées ou sponsorisées via l’endpoint de la timeline des Posts utilisateur de l’API X v2, vous devrez utiliser OAuth 1.0a User Context ou OAuth 2.0 Authorization Code with PKCE, et transmettre les jetons d’accès utilisateur associés à l’utilisateur ayant publié le Post pour lequel vous souhaitez consulter les métriques.
 

**URLs des endpoints**

Notez que les endpoints de timeline de l’API X v2 nécessitent un paramètre de chemin :id pour l’ID utilisateur.

* Endpoints standard v1.1 :
  * https://api.x.com/1.1/statuses/home&#95;timeline
  * https://api.x.com/1.1/statuses/user&#95;timeline
  * https://api.x.com/1.1/statuses/mention&#95;timeline
* Endpoints X API v2 :
  * https://api.x.com/2/users/:id/timelines/reverse&#95;chronological
  * https://api.x.com/2/users/:id/tweets
  * https://api.x.com/2/users/:id/mentions

**Exigences pour l’App et le Project**

Les endpoints de l’API X v2 exigent l’utilisation d’identifiants provenant d’une [developer App](/fr/resources/fundamentals/developer-apps) associée à un [Project](/fr/resources/fundamentals/projects) lors de l’authentification de vos requêtes. Tous les endpoints X API v1.1 peuvent utiliser des identifiants d’Apps autonomes ou d’Apps associées à un Project.
 

**Limites de taux**

|     |     |
| :--- | :--- |
| **mentions&#95;timeline :**<br /><br />75 requêtes par 15 min avec OAuth 1.0a User Context | **user mention timeline :**<br /><br />180 requêtes par fenêtre de 15 minutes avec OAuth 1.0a User Context  <br />450 requêtes par fenêtre de 15 minutes avec OAuth 2.0 Bearer Token |
| **home&#95;timeline :**<br /><br />15 requêtes par 15 minutes  <br /><br />Jusqu’à 800 Posts sont récupérables sur la timeline d’accueil | **reverse chronological home timeline :**<br /><br />180 requêtes par 15 minutes<br /><br />Vous pouvez renvoyer chaque Post créé sur une timeline au cours des 7 derniers jours ainsi que les 800 plus récents, quelle que soit la date de création. |

**Limites de requêtes**

|     |     |
| :--- | :--- |
| **Standard timelines v1.1** | **timelines v2** |
| Limite quotidienne de requêtes<br /><br />* Plafond de 100 000 requêtes sur une période de 24 heures. | Aucune limite quotidienne de requêtes, uniquement limitées par le volume de consommation. |

**Limites de volume de consommation**

|     |     |
| :--- | :--- |
| **Standard timelines v1.1** | **timelines v2** |
| Consommation limitée uniquement par les limites de requêtes<br /><br />* Plafond de 100 000 requêtes sur une période de 24 heures. | Consommation limitée uniquement par le [Post cap](/fr/x-api/fundamentals/post-cap) mensuel au niveau du Project (sur plusieurs endpoints v2) en fonction du [niveau d’accès](/fr/x-api/getting-started/about-x-api).<br /><br />* 500 000 Posts par mois avec l’accès Essential.<br />* 2 millions de Posts par mois avec l’accès Elevated<br />* 10 millions de Posts par mois avec l’accès Academic Research <br /><br />La reverse chronological home timeline n’est pas soumise au Post cap mensuel. |

**Paramètres de requête**

|     |     |
| :--- | :--- |
| **Standard timelines v1.1** | **timelines v2** |
| Requis : user&#95;id ou screen&#95;name | Requis : l’ID utilisateur spécifique est fourni dans le paramètre de chemin |
| Optionnel :<br /><br />count - définit le nombre maximal de résultats renvoyés par requête<br /><br />exclude&#95;replies - exclut les réponses des résultats<br /><br />include&#95;rts - lorsqu’il est défini sur 0, exclut les Retweets des résultats<br /><br />trim&#95;user - exclut les objets utilisateur réhydratés des résultats<br /><br />tweet&#95;mode - définit le format de données renvoyé, à définir sur extended pour les Posts de plus de 140 caractères<br /><br />since&#95;id - définit l’ID de Post le plus ancien dans le résultat (exclusif)<br /><br />max&#95;id - définit l’ID de Post le plus récent dans le résultat (inclusif) | Optionnel :<br /><br />max&#95;results - définit le nombre maximal de résultats renvoyés par requête<br /><br />exclude=retweets,replies - exclut les Retweets ou les réponses des résultats<br /><br />tweet.fields - définit les champs de l’objet Post à renvoyer<br /><br />user.fields - définit les champs de l’objet User à renvoyer<br /><br />place.fields - définit les champs de l’objet place à renvoyer<br /><br />media.fields - définit les champs de l’objet media à renvoyer<br /><br />poll.fields - définit les champs de l’objet poll à renvoyer<br /><br />expansions - définit les champs et données étendus à renvoyer<br /><br />start&#95;time - définit la date/heure created&#95;at la plus ancienne pour les résultats<br /><br />end&#95;time - définit la date/heure created&#95;at la plus récente pour les résultats<br /><br />since&#95;id - définit l’ID de Post le plus ancien pour les résultats (exclusif)<br /><br />until&#95;id - définit l’ID de Post le plus récent dans le résultat (exclusif) |

**Format des données de réponse**

|     |     |
| :--- | :--- |
| **Standard search v1.1** | **Search Posts v2** |
| [<br />    tweet object,<br />    tweet object<br />  ] | <br />  &quot;data&quot;: [id,text,id,text],<br />  &quot;meta&quot;: <br />    &quot;oldest&#95;id&quot;: &quot;1337085692623646724&quot;,<br />    &quot;newest&#95;id&quot;: &quot;1334183616172019713&quot;,<br />    &quot;previous&#95;token&quot;: &quot;77qpymm88g5h9vqkluldpw91lr0qzfz1sqydh841iz48k&quot;,<br />    &quot;result&#95;count&quot;: 10,<br />    &quot;next&#95;token&quot;: &quot;7140dibdnow9c7btw3w29gqolns6a1ipl3kzeae41vsxk&quot;<br />  <br /> |

**Format JSON de X API v2**

X API v2 introduit de nouveaux modèles JSON pour les objets renvoyés par les API, notamment les objets [Post](/fr/x-api/fundamentals/data-dictionary#tweet) et [user](/fr/x-api/fundamentals/data-dictionary#user). Pour en savoir plus sur le format X API v2 et l’utilisation des fields et expansions, consultez notre [guide](/fr/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions) et notre [data dictionary](/fr/x-api/fundamentals/data-dictionary) plus complet.

* Au niveau racine du JSON, les endpoints standard renvoient des objets Post dans un tableau statuses, tandis que X API v2 renvoie un tableau data. 
* Au lieu de faire référence aux « statuses » Retweeted et Quoted, le JSON de X API v2 fait référence aux Tweets Retweeted et Quoted. De nombreux champs hérités et obsolètes, tels que contributors et user.translator&#95;type, sont supprimés. 
* Au lieu d’utiliser à la fois favorites (dans l’objet Post) et favorites (dans l’objet user), X API v2 utilise le terme like. 
* X adopte la convention selon laquelle les valeurs JSON sans valeur (par exemple, null) ne sont pas écrites dans la charge utile. Les attributs Post et user ne sont inclus que s’ils ont une valeur non nulle.
   

L’une des principales différences entre les versions des endpoints standard v1.1 et X API v2 est la manière de sélectionner les champs renvoyés dans votre charge utile. Pour les endpoints standard, plusieurs paramètres pouvaient être utilisés pour préciser quels champs ou ensembles de champs seraient renvoyés dans la charge utile, tandis que la version X API v2 simplifie ces différents paramètres en [fields](/fr/x-api/fundamentals/fields) et [expansions](/fr/x-api/fundamentals/expansions). 

* fields : Les endpoints de X API v2 vous permettent de sélectionner les champs inclus dans votre payload. Par exemple, les objets Post, User, Media, Place et Poll disposent tous d’une liste de champs qui peuvent être renvoyés (ou non).

* expansions : Sert à développer les objets complémentaires référencés dans les payloads JSON de Post. Par exemple, tous les Retweets et Replies font référence à d’autres Posts. En définissant expansions=referenced&#95;tweets.id, ces autres objets Post sont développés conformément au paramètre tweet.fields. D’autres objets tels que Users, Polls et Media peuvent également être développés.

* conversation&#95;id

* Deux nouveaux champs [annotations](/fr/x-api/fundamentals/post-annotations), notamment context et entities

* Plusieurs nouveaux champs [metrics](/fr/x-api/fundamentals/metrics)

Nous avons préparé un [guide de migration du format de données](/fr/x-api/migrate/data-format-migration#migrating-from-standard-v1-1s-data-format-to-v2) qui peut vous aider à faire correspondre les champs standard v1.1 aux nouveaux champs v2. Ce guide vous indiquera également les paramètres d’expansion et de champs spécifiques à transmettre avec votre requête v2 pour obtenir les champs souhaités.

**Prochaines étapes**

[Consultez notre guide de démarrage rapide pour la recherche de Posts avec X API v2](/fr/x-api/posts/lookup/quickstart "Check out our quick start guide for X API v2 Post lookup")

[Consultez les références de l’API pour la recherche de Posts en v2](/fr/x-api/posts/lookup/migrate/overview "Review the API references for v2 Post lookup")

[Découvrez notre code d’exemple pour les endpoints de timelines](https://github.com/xdevplatform/Twitter-API-v2-sample-code "Check out our sample code for the timelines endpoints")