---
title: Gérer les Retweets
sidebarTitle: Gérer les Retweets
---

import { Button } from '/snippets/fr/button.mdx';

<div id="getting-started-with-the-manage-retweets-endpoints">
  ### Bien démarrer avec les endpoints de gestion des Retweets
</div>

Ce guide de démarrage rapide vous aidera à envoyer votre première requête aux endpoints de gestion des Retweets avec Postman.

Si vous souhaitez consulter des exemples de code dans différents langages, rendez-vous sur notre dépôt GitHub [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code). 

<div id="prerequisites">
  #### Prérequis
</div>

Pour suivre ce guide, vous aurez besoin d’un ensemble de [clés et jetons](/fr/resources/fundamentals/authentication) pour authentifier votre requête. Vous pouvez générer ces clés et jetons en suivant les étapes ci-dessous :

* [Inscrivez-vous pour obtenir un compte développeur](https://developer.x.com/en/apply-for-access) et attendez l’approbation.
* Créez un [projet](/fr/resources/fundamentals/projects) et une [application développeur](/fr/resources/fundamentals/developer-apps) associée dans le portail développeur.
* Accédez à la page « Keys and tokens » de votre application pour générer les identifiants requis. Assurez-vous d’enregistrer tous les identifiants dans un emplacement sécurisé.

<div id="steps-to-build-a-manage-retweets-request">
  #### Étapes pour créer une requête de gestion des Retweets
</div>

**Étape un : commencez avec un outil ou une bibliothèque**

Il existe plusieurs outils, exemples de code et bibliothèques que vous pouvez utiliser pour effectuer une requête vers cet endpoint, mais nous allons utiliser l’outil Postman ici pour simplifier le processus.

Pour charger la collection Postman de X API v2 dans votre environnement, veuillez cliquer sur le bouton suivant :

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Ajouter X API v2 à Postman
</Button>

Une fois la collection X API v2 chargée dans Postman, accédez au dossier “Retweets” et sélectionnez “Retweet a Post”.
 

Étape deux : authentifiez votre requête

Pour effectuer correctement une requête vers la X API, vous devez vérifier que vous avez l’autorisation. Pour ce faire avec cet endpoint, vous devez authentifier votre requête en utilisant soit [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication), soit [OAuth 2.0 Authorization Code with PKCE](fr/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2).

Dans cet exemple, nous allons utiliser OAuth 1.0a User Context.

Vous devez ajouter vos clés et jetons – spécifiquement votre API Key, API Secret Key, OAuth 1.0a user Access Token et OAuth 1.0a user Access Token Secret – à Postman. Vous pouvez le faire en sélectionnant l’environnement nommé “X API v2” dans le coin supérieur droit de Postman et en ajoutant vos clés et jetons dans les champs &quot;initial value&quot; et &quot;current value&quot; (en cliquant sur l’icône en forme d’œil à côté du menu déroulant des environnements).

Ces variables seront automatiquement intégrées dans l’onglet d’autorisation de la requête si vous l’avez fait correctement.

**Étape trois : spécifiez le Post que vous allez retweeter**

Les endpoints de gestion des Retweets nécessitent deux identifiants : un pour l’utilisateur qui souhaite retweeter ou annuler un Retweet et l’id du Post.

L’ID de l’utilisateur doit correspondre à l’ID de l’utilisateur authentifié, ce qui signifie que vous devez transmettre les [Access Tokens](/fr/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) associés à l’ID utilisateur lors de l’authentification de votre requête. Dans ce cas, vous pouvez spécifier l’ID qui vous appartient. Vous pouvez trouver votre ID de deux manières :

1. En utilisant l’endpoint [user lookup by username](/fr/x-api/users/user-lookup-by-username), vous pouvez transmettre un nom d’utilisateur et recevoir le champ id.
2. En regardant votre Access Token, vous constaterez que la partie numérique correspond à votre ID utilisateur.
    

Vous devez également spécifier un Post que vous souhaitez retweeter. Vous pouvez trouver l’ID du Post en vous rendant sur X.com, en cliquant sur un Post, puis en regardant l’URL. Par exemple, l’ID de Post de l’URL suivante est 1228393702244134912.

https://x.com/TwitterDev/status/1228393702244134912

Dans Postman, accédez à l’onglet &quot;Params&quot;, saisissez votre ID dans la colonne &quot;Value&quot; de la variable de chemin id, puis saisissez l’ID du Post que vous souhaitez retweeter comme valeur du paramètre tweet_id. Assurez-vous de ne pas inclure d’espaces avant ou après un ID.

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | (votre ID utilisateur) |
| tweet_id | (l’ID du Tweet que vous souhaitez retweeter) |

Si vous cliquez sur le bouton &quot;Send&quot;, vous recevrez un objet de réponse contenant l’état de la relation :

* Si vous recevez &quot;retweeted&quot;: true, alors l’id retweete avec succès le tweet_id.
   

**Étape quatre : effectuez votre requête et examinez votre réponse**

Une fois que tout est configuré, cliquez sur le bouton &quot;Send&quot; et vous recevrez la réponse suivante :

```
{
    "data": {
        "retweeted": true
    }
}
```

Si vous recevez `"retweeted": true`, le `tweet_id` a bien été retweeté.

Si vous souhaitez annuler un Retweet par le même utilisateur, vous pouvez utiliser la requête intitulée “Undo a Retweet”, qui se trouve également dans le dossier “Retweets” de la collection X API v2 chargée dans Postman. Le `id` doit être votre ID utilisateur et `source_tweet_id` doit être l’ID du Post dont vous souhaitez annuler le Retweet. Vous n’aurez pas à ajouter ceci en tant que corps JSON, donc assurez-vous d’ajouter les paramètres de requête requis pour id et `source_tweet_id`. 

En cas de réussite de l’annulation d’un Retweet, vous recevrez une réponse similaire à l’exemple suivant :

```
{
  "data": {
    "retweeted": false
  }
}
```