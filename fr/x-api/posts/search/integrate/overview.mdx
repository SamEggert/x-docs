---
title: Présentation
sidebarTitle: Présentation
---

<div id="how-to-integrate-with-the-search-posts-endpoints">
  ## Comment intégrer les endpoints Search Posts
</div>

Cette page présente plusieurs outils et concepts clés à connaître lorsque vous intégrez les endpoints de recherche récente ou de recherche dans l’archive complète à votre système. Nous avons divisé la page en sections suivantes :

* [Outils utiles](#helpful-tools)
* Concepts clés
  * [Authentification](#authentication)

  * [Portail développeur, projets et applications](#developer-portal)

  * [Limites de taux](#rate-limits)

  * [Champs et expansions](#fields-expansions)

  * [Métriques](#metrics)

  * [Création de requêtes de recherche](#queries)

  * [Pagination](#pagination)

  * [Plafonds de publications](#tweet-caps) 

  * [Modifications des publications](#tweet-edits) 

<div id="helpful-tools">
  ### Outils utiles
</div>

Avant d’examiner quelques concepts clés, nous vous recommandons d’utiliser l’un des outils ou des exemples de code suivants pour commencer à tester ces endpoints.

<div id="code-samples">
  #### Exemples de code
</div>

Vous souhaitez utiliser ces points de terminaison avec du code dans votre langage de programmation préféré ? Nous proposons plusieurs exemples de code que vous pouvez utiliser comme point de départ sur notre [page GitHub](https://github.com/xdevplatform/Twitter-API-v2-sample-code), notamment un [client Python](https://github.com/xdevplatform/search-tweets-python) et un [client Ruby](https://github.com/xdevplatform/search-tweets-ruby).

<div id="libraries">
  #### Bibliothèques
</div>

Profitez de l’une de nos nombreuses [bibliothèques communautaires tierces](/fr/x-api/tools-and-libraries/overview) pour vous aider à démarrer. Vous pouvez trouver une bibliothèque compatible avec les endpoints v2 en recherchant le tag de version approprié.

<div id="postman">
  #### Postman
</div>

Postman est un excellent outil pour tester ces endpoints. Chaque requête Postman inclut tous les paramètres du point de terminaison concerné afin de vous aider à comprendre rapidement ce qui est disponible. Pour en savoir plus sur nos collections Postman, veuillez consulter la page [Utiliser Postman](/fr/tutorials/postman-getting-started).
 

<div id="key-concepts">
  ### Concepts clés
</div>

<div id="authentication">
  #### Authentification
</div>

Tous les endpoints de X API v2 exigent que vous authentifiiez vos requêtes avec un ensemble d’identifiants, également appelés clés et jetons. Vous pouvez utiliser OAuth 1.0a User Context, OAuth 2.0 App-Only ou OAuth 2.0 Authorization Code with PKCE pour authentifier vos requêtes vers l’endpoint de recherche récente. Vous devez utiliser OAuth 2.0 App-Only lorsque vous utilisez l’endpoint de recherche dans l’archive complète.

[OAuth 2.0 App-Only](/fr/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-3) nécessite simplement de transmettre un [OAuth 2.0 App Access Token](/fr/resources/fundamentals/authentication#bearer-token-also-known-as-app-only) avec votre requête. Vous pouvez soit générer un App Access Token directement depuis une application développeur, soit en générer un via l’endpoint [POST oauth2/token](/fr/resources/fundamentals/authentication#post-oauth2-token).

[OAuth 1.0a User Context](/fr/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) exige d’utiliser vos API Keys, des user Access Tokens et quelques autres paramètres pour [créer un en-tête d’autorisation](https://developer-staging.x.com/resources/fundamentals/authentication/authorizing-a-request), que vous transmettrez ensuite avec votre requête. Les Access Tokens doivent être associés à l’utilisateur pour le compte duquel vous effectuez la requête. Si vous souhaitez générer un ensemble d’Access Tokens pour un autre utilisateur, celui-ci doit autoriser votre application via le [flux OAuth en 3 étapes](https://developer-staging.x.com/resources/fundamentals/authentication/obtaining-user-access-tokens).

Veuillez noter qu’OAuth 1.0a peut être difficile à utiliser. Si vous n’êtes pas familiarisé avec cette méthode d’authentification, nous vous recommandons d’utiliser une [bibliothèque](/fr/x-api/tools-and-libraries/overview), un outil comme Postman, ou d’utiliser OAuth 2.0 pour authentifier vos requêtes. Si vous souhaitez récupérer un Post ou des métriques privées depuis ces endpoints, vous devrez utiliser soit OAuth 1.0a User Context, soit OAuth 2.0 Authorization Code with PKCE, ce qui garantira que vous disposez des autorisations appropriées de l’utilisateur propriétaire de ce contenu.

[OAuth 2.0 Authorization Code with PKCE](/fr/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) permet un meilleur contrôle sur la portée d’une application et des flux d’autorisation sur plusieurs appareils. OAuth 2.0 vous permet de choisir des scopes précis et granulaires qui vous donnent des autorisations spécifiques au nom d’un utilisateur.

Pour activer OAuth 2.0 dans votre application, vous devez l’activer dans les paramètres d’authentification de votre application, situés dans la section App settings du portail développeur.

<Note>
  **Veuillez noter**

  Si vous demandez les [champs](/fr/x-api/fundamentals/fields) suivants, OAuth 1.0a User Context ou OAuth 2.0 Authorization Code est requis :

  * tweet.fields.non_public_metrics
  * tweet.fields.promoted_metrics
  * tweet.fields.organic_metrics
  * media.fields.non_public_metrics
  * media.fields.promoted_metrics
  * media.fields.organic_metrics
</Note>

####

Portail développeur, Projets et applications développeur

Pour utiliser n’importe quel endpoint de X API v2, vous devez avoir [créé un compte développeur](https://developer.x.com/en/portal/petition/essential/basic-info), configuré un projet dans ce compte et créé une application développeur au sein de ce projet. Les clés et jetons de cette application développeur fonctionneront avec ces endpoints de recherche.

Vous pouvez utiliser les clés et jetons d’un projet avec n’importe quel [niveau d’accès](/fr/x-api/getting-started/about-x-api) pour envoyer des requêtes au endpoint de recherche récente. En revanche, vous devrez utiliser un projet avec le niveau d’accès Pro ou Enterprise pour envoyer des requêtes au endpoint de recherche sur l’archive complète. Si vous disposez de [l’accès Enterprise](/fr/x-api/getting-started/getting-access), vous bénéficierez de fonctionnalités supplémentaires, notamment d’opérateurs additionnels et de longueurs de requête plus importantes.
 

<div id="rate-limits">
  #### Limites de débit
</div>

Chaque jour, des milliers de développeurs envoient des requêtes à l’API X. Pour gérer ce volume, des [limites de débit](/fr/x-api/fundamentals/rate-limits) sont appliquées à chaque endpoint, ce qui limite le nombre de requêtes qu’un développeur peut effectuer au nom d’une application ou d’un utilisateur authentifié.

Différentes limites de débit s’appliquent à ces endpoints selon la méthode d’authentification utilisée. Les limites au niveau de l’application s’appliquent à une application effectuant des requêtes avec OAuth 2.0 App-Only, tandis que la limite au niveau de l’utilisateur s’applique aux requêtes effectuées au nom de l’utilisateur autorisant, via OAuth 1.0a User Context ou OAuth 2.0 Authorization Code avec PKCE. Ces deux limites sont basées sur la fréquence des requêtes dans une fenêtre de 15 minutes.

Par exemple, une application utilisant l’authentification OAuth 2.0 App-Only pour envoyer des requêtes au endpoint de recherche récente peut effectuer 450 requêtes (y compris celles de pagination) sur une période de 15 minutes. Cette même application, sur la même période de 15 minutes et avec deux utilisateurs authentifiés différents (utilisant OAuth 1.0a User Context ou OAuth 2.0 Authorization Code avec PKCE), peut effectuer jusqu’à 180 requêtes (y compris celles de pagination) au endpoint de recherche récente pour chaque utilisateur authentifié.
 

<div id="fields-and-expansions">
  #### Champs et expansions
</div>

L’API X v2 vous permet de sélectionner précisément les données à renvoyer par l’API à l’aide des [champs](/fr/x-api/fundamentals/fields) et des [expansions](/fr/x-api/fundamentals/expansions). Le paramètre expansions permet d’inclure les objets référencés dans la charge utile. Par exemple, ce point de terminaison permet de demander les objets poll, place, media et autres via le paramètre expansions.

Les paramètres fields vous permettent de choisir exactement quels champs, au sein des différents objets de données, vous souhaitez recevoir. Par défaut, l’objet Post principal renvoyé par ces points de terminaison inclut les champs id et text (ainsi que edit_history_tweet_ids pour les Posts créés après le lancement de cette fonctionnalité). Pour recevoir des champs supplémentaires comme author_id ou public_metrics, vous devez les demander explicitement via les paramètres fields. Parmi les champs importants à envisager dans votre intégration figurent nos données de sondage, les [metrics](/fr/x-api/fundamentals/metrics), les [annotations de Post](/fr/x-api/fundamentals/post-annotations) et le champ [conversation ID](/fr/x-api/fundamentals/conversation-id).

Nous avons ajouté à notre [dictionnaire de données de l’API X v2](/fr/x-api/fundamentals/data-dictionary) un guide expliquant comment [utiliser conjointement les champs et les expansions](/fr/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions).
 

<div id="metrics">
  #### Mesures
</div>

Les endpoints de X API v2 vous permettent de demander des métriques directement à partir des objets renvoyés, à condition d’inclure les [fields](/fr/x-api/fundamentals/fields) appropriés dans votre requête.

Il existe certaines limites concernant les métriques de Posts dont vous devez être conscient, en particulier liées à la confidentialité des utilisateurs et aux champs de réponse suivants :

* tweet.fields.non_public_metrics
* tweet.fields.promoted_metrics
* tweet.fields.organic_metrics
* media.fields.non_public_metrics
* media.fields.promoted_metrics
* media.fields.organic_metrics

Les champs mentionnés incluent des métriques privées, ce qui signifie que vous devez être autorisé par l’éditeur du Post à récupérer ces données en son nom lorsque vous utilisez l’endpoint de recherche récente, et donc utiliser [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication). Comme cette méthode d’authentification n’est utilisable qu’avec la recherche récente, vous ne pourrez pas récupérer ces métriques via l’endpoint de recherche dans l’archive complète.

Par exemple, pour recevoir `non_public_metrics` pour les Posts de l’utilisateur ID 1234, vous devrez inclure dans votre requête des jetons d’accès associés à cet utilisateur. Vous pouvez faire autoriser votre application par des utilisateurs et obtenir un ensemble de jetons d’accès qui leur sont associés en utilisant le [flux OAuth à 3 acteurs (3-legged)](/fr/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow).

Toutes les `non_public_metrics`, `organic_metrics` et `promoted_metrics` ne sont disponibles que pour les Posts créés au cours des 30 derniers jours. Cela signifie que lorsque vous demandez les champs mentionnés, les résultats seront automatiquement limités aux Posts des 30 derniers jours.

Si ces champs sont demandés, seuls les Posts rédigés par l’utilisateur authentifié seront renvoyés ; tous les autres Posts renverront un message d’erreur.
 

<div id="building-search-queries">
  #### Créer des requêtes de recherche
</div>

La fonctionnalité principale de ces endpoints est l’utilisation d’une requête de recherche unique pour filtrer les Posts qui vous sont renvoyés. Ces requêtes sont constituées d’opérateurs qui ciblent des attributs de Post et d’utilisateur, tels que des mots-clés, des hashtags et des URL. Les opérateurs peuvent être combinés au sein de requêtes à l’aide de logique booléenne et de parenthèses afin d’affiner le comportement de mise en correspondance de la requête.

Vous pouvez consulter notre guide sur [la création d’une requête](/fr/x-api/posts/search/integrate/build-a-query) pour en savoir plus.

<div id="pagination">
  #### Pagination
</div>

Ces endpoints utilisent la pagination afin de renvoyer les réponses rapidement. Lorsque le nombre de résultats dépasse ce qui peut être inclus dans une seule réponse (jusqu’à 100 posts pour la recherche récente et 500 pour la recherche dans l’archive complète), vous devrez utiliser la pagination. Utilisez le paramètre `max_results` pour définir le nombre de résultats renvoyés par page, et le paramètre `pagination_token` pour récupérer la page suivante de résultats. Pour en savoir plus, consultez notre [guide de pagination](/fr/x-api/fundamentals/pagination).

<div id="post-caps">
  #### Limites de Posts
</div>

Les endpoints Search Posts sont limités quant au nombre de Posts qu’ils peuvent renvoyer sur un mois donné, indépendamment de la pagination.

Quel que soit l’endpoint de recherche que vous utilisez, les Posts renvoyés seront comptabilisés dans les [limites de Posts](/fr/x-api/fundamentals/post-cap) au niveau du Project. L’usage est affiché dans le portail développeur, et le « mois » commence le jour de renouvellement de votre abonnement indiqué sur le [tableau de bord du portail développeur](https://developer.x.com/en/portal/dashboard).

**Modifications de Posts**

Les Posts éligibles aux modifications peuvent être modifiés jusqu’à cinq fois dans les 30 minutes suivant la publication du Post d’origine. Les endpoints de recherche fourniront toujours la dernière version du Post. Si vous ne demandez que des Posts publiés depuis 30 minutes ou plus, vous recevrez toujours la version finale du Post. Cependant, si vous avez un cas d’usage quasi temps réel et interrogez des Posts publiés au cours des trente dernières minutes, ces Posts peuvent avoir été modifiés après que vous les avez reçus. Ces Posts peuvent être réhydratés via la recherche ou l’endpoint Post Lookup pour confirmer leur état final. Pour en savoir plus sur le fonctionnement des modifications de Posts, consultez la page [Principes fondamentaux des modifications de Posts](/fr/x-api/fundamentals/edit-posts).  

**Étapes suivantes**

[Effectuez votre première requête vers un endpoint Search Posts](/fr/x-api/posts/search/quickstart/recent-search)

[Consultez la liste complète des paramètres, des champs et plus encore dans nos pages de référence de l’API](/fr/x-api/posts/recent-search)

[Obtenez de l’aide ou dépannez une erreur](https://developer.x.com/en/support/x-api)